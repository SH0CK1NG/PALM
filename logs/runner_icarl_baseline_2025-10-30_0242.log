nohup: ignoring input
[Stage] Prepare PyCIL at: /home/shaokun/PALM/third_party/PyCIL
[Eval] Start OOD evaluation (SVHN, places365, LSUN, iSUN, dtd)
[Eval] Using ckpt: /home/shaokun/PALM/third_party/PyCIL/logs/icarl/cifar100/90/10/reproduce_1_resnet34/model.pt
[Eval] Extract features and evaluate iCaRL with 5 OOD datasets
/home/shaokun/anaconda3/envs/CILPALM/lib/python3.10/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: '/home/shaokun/anaconda3/envs/CILPALM/lib/python3.10/site-packages/torchvision/image.so: undefined symbol: _ZN3c1017RegisterOperatorsD1Ev'If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(
Files already downloaded and verified
Files already downloaded and verified
[pycil] loaded PyCIL model from /home/shaokun/PALM/third_party/PyCIL/logs/icarl/cifar100/90/10/reproduce_1_resnet34/model.pt
resnet34-pycil-icarl: Number of model parameters: 21328292
Processing in-distribution CIFAR-100 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<02:41,  2.41it/s]  3%|▎         | 10/391 [00:00<00:15, 24.60it/s]  5%|▌         | 20/391 [00:00<00:08, 44.23it/s]  8%|▊         | 31/391 [00:00<00:05, 60.59it/s] 10%|█         | 41/391 [00:00<00:04, 71.23it/s] 13%|█▎        | 52/391 [00:00<00:04, 80.00it/s] 16%|█▌        | 62/391 [00:01<00:03, 84.05it/s] 18%|█▊        | 72/391 [00:01<00:03, 88.30it/s] 21%|██        | 82/391 [00:01<00:03, 91.64it/s] 24%|██▎       | 92/391 [00:01<00:03, 93.90it/s] 26%|██▋       | 103/391 [00:01<00:02, 96.52it/s] 29%|██▉       | 114/391 [00:01<00:02, 98.66it/s] 32%|███▏      | 125/391 [00:01<00:02, 99.76it/s] 35%|███▍      | 136/391 [00:01<00:02, 100.54it/s] 38%|███▊      | 147/391 [00:01<00:02, 101.24it/s] 40%|████      | 158/391 [00:01<00:02, 101.79it/s] 43%|████▎     | 169/391 [00:02<00:02, 102.21it/s] 46%|████▌     | 180/391 [00:02<00:02, 102.30it/s] 49%|████▉     | 191/391 [00:02<00:01, 102.56it/s] 52%|█████▏    | 202/391 [00:02<00:01, 102.60it/s] 54%|█████▍    | 213/391 [00:02<00:01, 102.78it/s] 57%|█████▋    | 224/391 [00:02<00:01, 102.98it/s] 60%|██████    | 235/391 [00:02<00:01, 103.15it/s] 63%|██████▎   | 246/391 [00:02<00:01, 103.05it/s] 66%|██████▌   | 257/391 [00:02<00:01, 103.20it/s] 69%|██████▊   | 268/391 [00:03<00:01, 103.13it/s] 71%|███████▏  | 279/391 [00:03<00:01, 103.23it/s] 74%|███████▍  | 290/391 [00:03<00:00, 103.19it/s] 77%|███████▋  | 301/391 [00:03<00:00, 102.81it/s] 80%|███████▉  | 312/391 [00:03<00:00, 102.74it/s] 83%|████████▎ | 323/391 [00:03<00:00, 102.71it/s] 85%|████████▌ | 334/391 [00:03<00:00, 102.50it/s] 88%|████████▊ | 345/391 [00:03<00:00, 102.36it/s] 91%|█████████ | 356/391 [00:03<00:00, 101.13it/s] 94%|█████████▍| 367/391 [00:04<00:00, 101.15it/s] 97%|█████████▋| 378/391 [00:04<00:00, 102.34it/s] 99%|█████████▉| 389/391 [00:04<00:00, 103.24it/s]100%|██████████| 391/391 [00:04<00:00, 91.63it/s] 
50000 images processed, 4.39410662651062 seconds used

Processing in-distribution CIFAR-100 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:35,  2.17it/s] 15%|█▌        | 12/79 [00:00<00:02, 27.25it/s] 29%|██▉       | 23/79 [00:00<00:01, 47.00it/s] 43%|████▎     | 34/79 [00:00<00:00, 62.17it/s] 57%|█████▋    | 45/79 [00:00<00:00, 73.71it/s] 71%|███████   | 56/79 [00:00<00:00, 82.20it/s] 85%|████████▍ | 67/79 [00:01<00:00, 88.64it/s] 99%|█████████▊| 78/79 [00:01<00:00, 93.31it/s]100%|██████████| 79/79 [00:02<00:00, 33.72it/s]
10000 images processed, 2.378596544265747 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<01:34,  2.14it/s]  5%|▌         | 11/204 [00:00<00:07, 25.01it/s] 10%|█         | 21/204 [00:00<00:04, 43.00it/s] 16%|█▌        | 32/204 [00:00<00:02, 59.32it/s] 21%|██        | 43/204 [00:00<00:02, 71.33it/s] 26%|██▋       | 54/204 [00:00<00:01, 80.37it/s] 32%|███▏      | 65/204 [00:01<00:01, 87.03it/s] 37%|███▋      | 76/204 [00:01<00:01, 91.71it/s] 43%|████▎     | 87/204 [00:01<00:01, 95.00it/s] 48%|████▊     | 98/204 [00:01<00:01, 97.10it/s] 53%|█████▎    | 109/204 [00:01<00:00, 98.89it/s] 59%|█████▉    | 120/204 [00:01<00:00, 99.75it/s] 64%|██████▍   | 131/204 [00:01<00:00, 100.29it/s] 70%|██████▉   | 142/204 [00:01<00:00, 101.10it/s] 75%|███████▌  | 153/204 [00:01<00:00, 101.71it/s] 80%|████████  | 164/204 [00:02<00:00, 101.63it/s] 86%|████████▌ | 175/204 [00:02<00:00, 101.90it/s] 91%|█████████ | 186/204 [00:02<00:00, 102.68it/s] 97%|█████████▋| 197/204 [00:02<00:00, 102.98it/s]100%|██████████| 204/204 [00:02<00:00, 83.04it/s] 
26032 images processed, 2.494901418685913 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:47,  1.64it/s] 14%|█▍        | 11/79 [00:00<00:03, 20.15it/s] 28%|██▊       | 22/79 [00:00<00:01, 38.54it/s] 42%|████▏     | 33/79 [00:00<00:00, 53.85it/s] 56%|█████▌    | 44/79 [00:01<00:00, 66.28it/s] 70%|██████▉   | 55/79 [00:01<00:00, 76.08it/s] 84%|████████▎ | 66/79 [00:01<00:00, 83.25it/s] 97%|█████████▋| 77/79 [00:01<00:00, 89.17it/s]100%|██████████| 79/79 [00:01<00:00, 57.60it/s]
10000 images processed, 1.404526710510254 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:37,  2.10it/s] 11%|█▏        | 9/79 [00:00<00:03, 19.66it/s] 24%|██▍       | 19/79 [00:00<00:01, 39.06it/s] 37%|███▋      | 29/79 [00:00<00:00, 54.71it/s] 49%|████▉     | 39/79 [00:00<00:00, 66.78it/s] 62%|██████▏   | 49/79 [00:00<00:00, 75.84it/s] 76%|███████▌  | 60/79 [00:01<00:00, 84.01it/s] 90%|████████▉ | 71/79 [00:01<00:00, 89.93it/s]100%|██████████| 79/79 [00:01<00:00, 62.06it/s]
10000 images processed, 1.29129958152771 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:37,  1.83it/s] 14%|█▍        | 10/70 [00:00<00:03, 19.81it/s] 30%|███       | 21/70 [00:00<00:01, 39.40it/s] 46%|████▌     | 32/70 [00:00<00:00, 55.33it/s] 61%|██████▏   | 43/70 [00:00<00:00, 68.04it/s] 77%|███████▋  | 54/70 [00:01<00:00, 77.70it/s] 93%|█████████▎| 65/70 [00:01<00:00, 85.02it/s]100%|██████████| 70/70 [00:01<00:00, 56.48it/s]
8925 images processed, 1.2696754932403564 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:42,  1.04it/s]  4%|▍         | 2/45 [00:01<00:20,  2.14it/s] 29%|██▉       | 13/45 [00:01<00:01, 18.33it/s] 40%|████      | 18/45 [00:01<00:01, 17.66it/s] 51%|█████     | 23/45 [00:01<00:01, 21.43it/s] 73%|███████▎  | 33/45 [00:02<00:00, 23.58it/s] 84%|████████▍ | 38/45 [00:02<00:00, 27.21it/s]100%|██████████| 45/45 [00:02<00:00, 28.10it/s]100%|██████████| 45/45 [00:02<00:00, 19.15it/s]
5640 images processed, 2.3856422901153564 seconds used

17.15689778327942
/home/shaokun/anaconda3/envs/CILPALM/lib/python3.10/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: '/home/shaokun/anaconda3/envs/CILPALM/lib/python3.10/site-packages/torchvision/image.so: undefined symbol: _ZN3c1017RegisterOperatorsD1Ev'If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN          74.80  78.07
places365     84.31  68.05
LSUN          81.89  70.04
iSUN          75.72  78.17
dtd           71.95  78.94
AVG           77.73  74.66
7.575289011001587
[Done] Results saved under evaluation_results/*.csv and figs/*.png
[Done] iCaRL baseline finished and evaluated. Logs in PyCIL/logs/icarl/cifar100/90/10
