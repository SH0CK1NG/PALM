Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep10-lr0p05.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:26,  4.51it/s]  3%|▎         | 12/391 [00:00<00:08, 44.96it/s]  5%|▍         | 19/391 [00:00<00:07, 49.77it/s]  7%|▋         | 26/391 [00:00<00:07, 50.07it/s]  8%|▊         | 32/391 [00:00<00:07, 50.79it/s] 10%|▉         | 38/391 [00:00<00:06, 51.99it/s] 11%|█▏        | 44/391 [00:00<00:06, 51.12it/s] 13%|█▎        | 51/391 [00:01<00:06, 53.47it/s] 15%|█▍        | 57/391 [00:01<00:06, 53.53it/s] 16%|█▌        | 63/391 [00:01<00:06, 52.19it/s] 18%|█▊        | 69/391 [00:01<00:06, 52.12it/s] 19%|█▉        | 75/391 [00:01<00:05, 53.13it/s] 21%|██        | 81/391 [00:01<00:05, 51.95it/s] 22%|██▏       | 87/391 [00:01<00:05, 52.24it/s] 24%|██▍       | 93/391 [00:01<00:05, 52.91it/s] 25%|██▌       | 99/391 [00:01<00:05, 52.48it/s] 27%|██▋       | 105/391 [00:02<00:05, 52.81it/s] 28%|██▊       | 111/391 [00:02<00:05, 51.71it/s] 30%|██▉       | 117/391 [00:02<00:05, 51.53it/s] 31%|███▏      | 123/391 [00:02<00:05, 52.42it/s] 33%|███▎      | 129/391 [00:02<00:05, 51.45it/s] 35%|███▍      | 135/391 [00:02<00:04, 51.62it/s] 36%|███▌      | 141/391 [00:02<00:04, 52.78it/s] 38%|███▊      | 147/391 [00:02<00:04, 51.67it/s] 39%|███▉      | 153/391 [00:03<00:04, 51.73it/s] 41%|████      | 159/391 [00:03<00:04, 52.35it/s] 42%|████▏     | 165/391 [00:03<00:04, 51.47it/s] 44%|████▎     | 171/391 [00:03<00:04, 52.31it/s] 45%|████▌     | 177/391 [00:03<00:04, 51.54it/s] 47%|████▋     | 183/391 [00:03<00:04, 51.98it/s] 48%|████▊     | 189/391 [00:03<00:03, 52.76it/s] 50%|████▉     | 195/391 [00:03<00:03, 51.63it/s] 51%|█████▏    | 201/391 [00:03<00:03, 52.06it/s] 53%|█████▎    | 207/391 [00:04<00:03, 52.78it/s] 54%|█████▍    | 213/391 [00:04<00:03, 51.68it/s] 56%|█████▌    | 219/391 [00:04<00:03, 52.04it/s] 58%|█████▊    | 225/391 [00:04<00:03, 52.74it/s] 59%|█████▉    | 231/391 [00:04<00:03, 51.69it/s] 61%|██████    | 237/391 [00:04<00:02, 51.56it/s] 62%|██████▏   | 243/391 [00:04<00:02, 52.21it/s] 64%|██████▎   | 249/391 [00:04<00:02, 51.75it/s] 65%|██████▌   | 255/391 [00:04<00:02, 52.51it/s] 67%|██████▋   | 261/391 [00:05<00:02, 51.68it/s] 68%|██████▊   | 267/391 [00:05<00:02, 52.11it/s] 70%|██████▉   | 273/391 [00:05<00:02, 52.86it/s] 71%|███████▏  | 279/391 [00:05<00:02, 51.69it/s] 73%|███████▎  | 285/391 [00:05<00:02, 51.79it/s] 74%|███████▍  | 291/391 [00:05<00:01, 52.95it/s] 76%|███████▌  | 297/391 [00:05<00:01, 51.81it/s] 77%|███████▋  | 303/391 [00:05<00:01, 52.20it/s] 79%|███████▉  | 309/391 [00:06<00:01, 53.15it/s] 81%|████████  | 315/391 [00:06<00:01, 51.94it/s] 82%|████████▏ | 322/391 [00:06<00:01, 54.87it/s] 84%|████████▍ | 328/391 [00:06<00:01, 54.82it/s] 85%|████████▌ | 334/391 [00:06<00:01, 53.14it/s] 87%|████████▋ | 340/391 [00:06<00:00, 52.81it/s] 88%|████████▊ | 346/391 [00:06<00:00, 53.64it/s] 90%|█████████ | 352/391 [00:06<00:00, 52.31it/s] 92%|█████████▏| 358/391 [00:06<00:00, 52.62it/s] 93%|█████████▎| 364/391 [00:07<00:00, 52.02it/s] 95%|█████████▍| 370/391 [00:07<00:00, 51.98it/s] 96%|█████████▌| 376/391 [00:07<00:00, 52.74it/s] 98%|█████████▊| 382/391 [00:07<00:00, 51.63it/s] 99%|█████████▉| 388/391 [00:07<00:00, 51.72it/s]100%|██████████| 391/391 [00:07<00:00, 51.33it/s]
50000 images processed, 7.703945875167847 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  3%|▎         | 2/79 [00:00<00:04, 18.83it/s] 10%|█         | 8/79 [00:00<00:01, 38.97it/s] 18%|█▊        | 14/79 [00:00<00:01, 45.24it/s] 24%|██▍       | 19/79 [00:00<00:01, 46.70it/s] 32%|███▏      | 25/79 [00:00<00:01, 48.49it/s] 39%|███▉      | 31/79 [00:00<00:00, 49.61it/s] 46%|████▌     | 36/79 [00:00<00:00, 49.52it/s] 53%|█████▎    | 42/79 [00:00<00:00, 50.61it/s] 61%|██████    | 48/79 [00:00<00:00, 51.83it/s] 68%|██████▊   | 54/79 [00:01<00:00, 51.01it/s] 76%|███████▌  | 60/79 [00:01<00:00, 51.33it/s] 84%|████████▎ | 66/79 [00:01<00:00, 52.58it/s] 91%|█████████ | 72/79 [00:01<00:00, 51.52it/s] 99%|█████████▊| 78/79 [00:01<00:00, 51.95it/s]100%|██████████| 79/79 [00:01<00:00, 47.90it/s]
10000 images processed, 1.6732046604156494 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:01<04:06,  1.22s/it]  3%|▎         | 6/204 [00:01<00:33,  5.98it/s]  5%|▌         | 11/204 [00:01<00:16, 11.58it/s]  8%|▊         | 16/204 [00:01<00:10, 17.40it/s] 10%|█         | 21/204 [00:01<00:07, 23.25it/s] 13%|█▎        | 26/204 [00:01<00:06, 27.96it/s] 16%|█▌        | 32/204 [00:01<00:05, 33.60it/s] 19%|█▊        | 38/204 [00:01<00:04, 37.99it/s] 21%|██        | 43/204 [00:02<00:04, 39.69it/s] 24%|██▎       | 48/204 [00:02<00:03, 41.61it/s] 26%|██▌       | 53/204 [00:02<00:03, 43.74it/s] 28%|██▊       | 58/204 [00:02<00:03, 44.22it/s] 31%|███       | 63/204 [00:02<00:03, 45.68it/s] 33%|███▎      | 68/204 [00:02<00:02, 45.73it/s] 36%|███▌      | 73/204 [00:02<00:02, 46.16it/s] 38%|███▊      | 78/204 [00:02<00:02, 47.13it/s] 41%|████      | 83/204 [00:02<00:02, 46.20it/s] 43%|████▎     | 88/204 [00:03<00:02, 46.52it/s] 46%|████▌     | 93/204 [00:03<00:02, 47.41it/s] 48%|████▊     | 98/204 [00:03<00:02, 46.45it/s] 50%|█████     | 103/204 [00:03<00:02, 46.61it/s] 53%|█████▎    | 108/204 [00:03<00:02, 47.52it/s] 55%|█████▌    | 113/204 [00:03<00:01, 46.51it/s] 58%|█████▊    | 118/204 [00:03<00:01, 46.60it/s] 60%|██████    | 123/204 [00:03<00:01, 47.53it/s] 63%|██████▎   | 128/204 [00:03<00:01, 46.94it/s] 65%|██████▌   | 133/204 [00:04<00:01, 47.69it/s] 68%|██████▊   | 138/204 [00:04<00:01, 47.12it/s] 70%|███████   | 143/204 [00:04<00:01, 47.14it/s] 73%|███████▎  | 148/204 [00:04<00:01, 47.89it/s] 75%|███████▌  | 153/204 [00:04<00:01, 46.75it/s] 77%|███████▋  | 158/204 [00:04<00:00, 46.83it/s] 80%|███████▉  | 163/204 [00:04<00:00, 47.70it/s] 82%|████████▏ | 168/204 [00:04<00:00, 46.67it/s] 85%|████████▍ | 173/204 [00:04<00:00, 46.76it/s] 87%|████████▋ | 178/204 [00:04<00:00, 47.57it/s] 90%|████████▉ | 183/204 [00:05<00:00, 46.57it/s] 92%|█████████▏| 188/204 [00:05<00:00, 46.64it/s] 95%|█████████▍| 193/204 [00:05<00:00, 47.55it/s] 97%|█████████▋| 198/204 [00:05<00:00, 46.87it/s]100%|█████████▉| 203/204 [00:05<00:00, 47.68it/s]100%|██████████| 204/204 [00:05<00:00, 36.60it/s]
26032 images processed, 5.6301867961883545 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:17,  4.37it/s]  6%|▋         | 5/79 [00:00<00:04, 15.40it/s] 11%|█▏        | 9/79 [00:00<00:03, 21.02it/s] 16%|█▋        | 13/79 [00:00<00:02, 24.25it/s] 22%|██▏       | 17/79 [00:00<00:02, 26.37it/s] 27%|██▋       | 21/79 [00:00<00:02, 27.75it/s] 32%|███▏      | 25/79 [00:01<00:01, 28.69it/s] 37%|███▋      | 29/79 [00:01<00:01, 29.30it/s] 42%|████▏     | 33/79 [00:01<00:01, 29.59it/s] 47%|████▋     | 37/79 [00:01<00:01, 29.85it/s] 52%|█████▏    | 41/79 [00:01<00:01, 30.03it/s] 57%|█████▋    | 45/79 [00:01<00:01, 30.31it/s] 62%|██████▏   | 49/79 [00:01<00:00, 30.05it/s] 67%|██████▋   | 53/79 [00:01<00:00, 30.62it/s] 72%|███████▏  | 57/79 [00:02<00:00, 30.27it/s] 77%|███████▋  | 61/79 [00:02<00:00, 29.53it/s] 81%|████████  | 64/79 [00:02<00:00, 28.89it/s] 85%|████████▍ | 67/79 [00:02<00:00, 27.95it/s] 90%|████████▉ | 71/79 [00:02<00:00, 30.40it/s] 95%|█████████▍| 75/79 [00:02<00:00, 28.46it/s] 99%|█████████▊| 78/79 [00:02<00:00, 28.14it/s]100%|██████████| 79/79 [00:02<00:00, 27.61it/s]
10000 images processed, 2.889183759689331 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:12,  6.23it/s] 13%|█▎        | 10/79 [00:00<00:01, 45.62it/s] 27%|██▋       | 21/79 [00:00<00:00, 70.47it/s] 41%|████      | 32/79 [00:00<00:00, 83.70it/s] 54%|█████▍    | 43/79 [00:00<00:00, 92.09it/s] 68%|██████▊   | 54/79 [00:00<00:00, 91.88it/s] 81%|████████  | 64/79 [00:00<00:00, 71.11it/s] 91%|█████████ | 72/79 [00:01<00:00, 63.18it/s]100%|██████████| 79/79 [00:01<00:00, 59.50it/s]100%|██████████| 79/79 [00:01<00:00, 63.76it/s]
10000 images processed, 1.2587840557098389 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:09,  7.61it/s]  9%|▊         | 6/70 [00:00<00:02, 28.65it/s] 16%|█▌        | 11/70 [00:00<00:01, 35.69it/s] 23%|██▎       | 16/70 [00:00<00:01, 39.93it/s] 30%|███       | 21/70 [00:00<00:01, 43.22it/s] 37%|███▋      | 26/70 [00:00<00:01, 43.62it/s] 44%|████▍     | 31/70 [00:00<00:00, 44.69it/s] 51%|█████▏    | 36/70 [00:00<00:00, 46.23it/s] 59%|█████▊    | 41/70 [00:00<00:00, 45.60it/s] 66%|██████▌   | 46/70 [00:01<00:00, 46.01it/s] 73%|███████▎  | 51/70 [00:01<00:00, 47.13it/s] 80%|████████  | 56/70 [00:01<00:00, 46.57it/s] 87%|████████▋ | 61/70 [00:01<00:00, 47.43it/s] 94%|█████████▍| 66/70 [00:01<00:00, 46.91it/s]100%|██████████| 70/70 [00:01<00:00, 42.23it/s]
8925 images processed, 1.6801011562347412 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:25,  1.75it/s]  4%|▍         | 2/45 [00:00<00:13,  3.27it/s] 11%|█         | 5/45 [00:00<00:06,  6.43it/s] 13%|█▎        | 6/45 [00:01<00:06,  6.23it/s] 20%|██        | 9/45 [00:01<00:03,  9.09it/s] 24%|██▍       | 11/45 [00:01<00:04,  8.20it/s] 27%|██▋       | 12/45 [00:01<00:04,  7.68it/s] 31%|███       | 14/45 [00:02<00:05,  6.12it/s] 36%|███▌      | 16/45 [00:02<00:04,  6.87it/s] 40%|████      | 18/45 [00:02<00:03,  7.47it/s] 44%|████▍     | 20/45 [00:03<00:03,  6.65it/s] 49%|████▉     | 22/45 [00:03<00:02,  8.12it/s] 53%|█████▎    | 24/45 [00:03<00:03,  6.20it/s] 62%|██████▏   | 28/45 [00:04<00:02,  6.89it/s] 71%|███████   | 32/45 [00:04<00:01,  7.24it/s] 80%|████████  | 36/45 [00:05<00:01,  7.00it/s] 89%|████████▉ | 40/45 [00:05<00:00,  6.74it/s] 98%|█████████▊| 44/45 [00:06<00:00,  6.30it/s]100%|██████████| 45/45 [00:06<00:00,  6.67it/s]
5640 images processed, 6.7685651779174805 seconds used

28.750083446502686
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN          10.59  98.11
places365     39.12  91.70
LSUN           4.21  99.04
iSUN          34.94  94.13
dtd           18.30  96.61
AVG           21.43  95.92
14.557676315307617
