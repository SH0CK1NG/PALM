Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep5-lr0p05.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:36,  4.04it/s]  3%|▎         | 11/391 [00:00<00:09, 39.09it/s]  5%|▍         | 19/391 [00:00<00:07, 52.62it/s]  7%|▋         | 28/391 [00:00<00:05, 62.97it/s]  9%|▉         | 36/391 [00:00<00:05, 66.88it/s] 12%|█▏        | 46/391 [00:00<00:04, 74.24it/s] 14%|█▍        | 55/391 [00:00<00:04, 76.33it/s] 16%|█▋        | 64/391 [00:00<00:04, 79.81it/s] 19%|█▊        | 73/391 [00:01<00:03, 82.40it/s] 21%|██        | 82/391 [00:01<00:03, 84.43it/s] 24%|██▎       | 92/391 [00:01<00:03, 86.50it/s] 26%|██▌       | 101/391 [00:01<00:03, 85.65it/s] 28%|██▊       | 110/391 [00:01<00:03, 86.14it/s] 30%|███       | 119/391 [00:01<00:03, 85.67it/s] 33%|███▎      | 128/391 [00:01<00:03, 83.53it/s] 35%|███▌      | 137/391 [00:01<00:03, 84.62it/s] 37%|███▋      | 146/391 [00:01<00:02, 84.81it/s] 40%|███▉      | 155/391 [00:02<00:03, 77.27it/s] 42%|████▏     | 165/391 [00:02<00:02, 81.58it/s] 45%|████▍     | 174/391 [00:02<00:02, 83.61it/s] 47%|████▋     | 183/391 [00:02<00:02, 84.28it/s] 49%|████▉     | 193/391 [00:02<00:02, 87.20it/s] 52%|█████▏    | 203/391 [00:02<00:02, 88.15it/s] 54%|█████▍    | 213/391 [00:02<00:01, 89.83it/s] 57%|█████▋    | 223/391 [00:02<00:01, 91.21it/s] 60%|█████▉    | 233/391 [00:02<00:01, 92.24it/s] 62%|██████▏   | 243/391 [00:03<00:01, 92.91it/s] 65%|██████▍   | 253/391 [00:03<00:01, 93.21it/s] 67%|██████▋   | 263/391 [00:03<00:01, 91.46it/s] 70%|██████▉   | 273/391 [00:03<00:01, 91.51it/s] 72%|███████▏  | 283/391 [00:03<00:01, 92.06it/s] 75%|███████▍  | 293/391 [00:03<00:01, 92.37it/s] 77%|███████▋  | 303/391 [00:03<00:00, 90.30it/s] 80%|████████  | 313/391 [00:03<00:00, 88.20it/s] 82%|████████▏ | 322/391 [00:03<00:00, 88.59it/s] 85%|████████▍ | 331/391 [00:04<00:00, 88.05it/s] 87%|████████▋ | 340/391 [00:04<00:00, 87.95it/s] 89%|████████▉ | 349/391 [00:04<00:00, 87.11it/s] 92%|█████████▏| 358/391 [00:04<00:00, 85.37it/s] 94%|█████████▍| 367/391 [00:04<00:00, 84.23it/s] 96%|█████████▌| 376/391 [00:04<00:00, 84.40it/s] 98%|█████████▊| 385/391 [00:04<00:00, 84.80it/s]100%|██████████| 391/391 [00:04<00:00, 81.38it/s]
50000 images processed, 4.94453501701355 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:09,  8.21it/s] 13%|█▎        | 10/79 [00:00<00:01, 50.94it/s] 24%|██▍       | 19/79 [00:00<00:00, 66.11it/s] 34%|███▍      | 27/79 [00:00<00:00, 69.53it/s] 44%|████▍     | 35/79 [00:00<00:00, 69.47it/s] 56%|█████▌    | 44/79 [00:00<00:00, 74.08it/s] 68%|██████▊   | 54/79 [00:00<00:00, 80.50it/s] 81%|████████  | 64/79 [00:00<00:00, 84.61it/s] 94%|█████████▎| 74/79 [00:00<00:00, 87.57it/s]100%|██████████| 79/79 [00:01<00:00, 70.81it/s]
10000 images processed, 1.1489965915679932 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:36,  5.62it/s]  5%|▍         | 10/204 [00:00<00:04, 42.44it/s] 10%|▉         | 20/204 [00:00<00:02, 62.08it/s] 15%|█▍        | 30/204 [00:00<00:02, 73.39it/s] 20%|█▉        | 40/204 [00:00<00:02, 80.59it/s] 25%|██▍       | 50/204 [00:00<00:01, 84.55it/s] 29%|██▉       | 60/204 [00:00<00:01, 87.58it/s] 34%|███▍      | 69/204 [00:00<00:01, 86.11it/s] 38%|███▊      | 78/204 [00:01<00:01, 86.75it/s] 43%|████▎     | 87/204 [00:01<00:01, 86.11it/s] 47%|████▋     | 96/204 [00:01<00:01, 84.58it/s] 51%|█████▏    | 105/204 [00:01<00:01, 84.84it/s] 56%|█████▋    | 115/204 [00:01<00:01, 87.69it/s] 61%|██████    | 124/204 [00:01<00:00, 88.01it/s] 66%|██████▌   | 134/204 [00:01<00:00, 90.05it/s] 71%|███████   | 144/204 [00:01<00:00, 91.08it/s] 75%|███████▌  | 154/204 [00:01<00:00, 89.24it/s] 80%|████████  | 164/204 [00:02<00:00, 88.56it/s] 85%|████████▌ | 174/204 [00:02<00:00, 89.58it/s] 90%|█████████ | 184/204 [00:02<00:00, 91.70it/s] 95%|█████████▌| 194/204 [00:02<00:00, 90.70it/s]100%|██████████| 204/204 [00:02<00:00, 86.23it/s]100%|██████████| 204/204 [00:02<00:00, 80.75it/s]
26032 images processed, 2.5910680294036865 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:24,  3.22it/s]  6%|▋         | 5/79 [00:00<00:05, 12.78it/s] 11%|█▏        | 9/79 [00:00<00:04, 17.33it/s] 16%|█▋        | 13/79 [00:00<00:03, 20.54it/s] 20%|██        | 16/79 [00:00<00:02, 22.41it/s] 24%|██▍       | 19/79 [00:01<00:02, 20.67it/s] 28%|██▊       | 22/79 [00:01<00:02, 21.81it/s] 33%|███▎      | 26/79 [00:01<00:02, 23.25it/s] 38%|███▊      | 30/79 [00:01<00:02, 23.96it/s] 43%|████▎     | 34/79 [00:01<00:01, 24.58it/s] 48%|████▊     | 38/79 [00:01<00:01, 25.21it/s] 53%|█████▎    | 42/79 [00:01<00:01, 25.80it/s] 58%|█████▊    | 46/79 [00:02<00:01, 25.30it/s] 63%|██████▎   | 50/79 [00:02<00:01, 25.51it/s] 68%|██████▊   | 54/79 [00:02<00:00, 25.46it/s] 73%|███████▎  | 58/79 [00:02<00:00, 25.17it/s] 78%|███████▊  | 62/79 [00:02<00:00, 25.45it/s] 84%|████████▎ | 66/79 [00:02<00:00, 26.19it/s] 89%|████████▊ | 70/79 [00:03<00:00, 26.72it/s] 94%|█████████▎| 74/79 [00:03<00:00, 26.88it/s] 99%|█████████▊| 78/79 [00:03<00:00, 26.68it/s]100%|██████████| 79/79 [00:03<00:00, 23.41it/s]
10000 images processed, 3.408884286880493 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:12,  6.49it/s] 11%|█▏        | 9/79 [00:00<00:01, 41.20it/s] 24%|██▍       | 19/79 [00:00<00:00, 62.22it/s] 37%|███▋      | 29/79 [00:00<00:00, 74.02it/s] 49%|████▉     | 39/79 [00:00<00:00, 80.58it/s] 62%|██████▏   | 49/79 [00:00<00:00, 84.82it/s] 73%|███████▎  | 58/79 [00:00<00:00, 81.85it/s] 85%|████████▍ | 67/79 [00:00<00:00, 78.99it/s] 96%|█████████▌| 76/79 [00:01<00:00, 80.83it/s]100%|██████████| 79/79 [00:01<00:00, 70.91it/s]
10000 images processed, 1.134781837463379 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:13,  5.14it/s] 13%|█▎        | 9/70 [00:00<00:01, 35.67it/s] 26%|██▌       | 18/70 [00:00<00:00, 55.19it/s] 39%|███▊      | 27/70 [00:00<00:00, 64.30it/s] 51%|█████▏    | 36/70 [00:00<00:00, 71.44it/s] 64%|██████▍   | 45/70 [00:00<00:00, 76.48it/s] 77%|███████▋  | 54/70 [00:00<00:00, 76.24it/s] 90%|█████████ | 63/70 [00:00<00:00, 78.74it/s]100%|██████████| 70/70 [00:01<00:00, 62.86it/s]
8925 images processed, 1.1369054317474365 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:29,  1.50it/s]  4%|▍         | 2/45 [00:00<00:15,  2.71it/s] 11%|█         | 5/45 [00:01<00:06,  5.77it/s] 13%|█▎        | 6/45 [00:01<00:07,  4.98it/s] 20%|██        | 9/45 [00:01<00:04,  7.68it/s] 22%|██▏       | 10/45 [00:01<00:06,  5.66it/s] 31%|███       | 14/45 [00:02<00:05,  5.45it/s] 40%|████      | 18/45 [00:03<00:04,  6.24it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.50it/s] 58%|█████▊    | 26/45 [00:04<00:02,  6.74it/s] 67%|██████▋   | 30/45 [00:04<00:02,  6.78it/s] 76%|███████▌  | 34/45 [00:05<00:01,  6.42it/s] 84%|████████▍ | 38/45 [00:05<00:00,  7.54it/s] 93%|█████████▎| 42/45 [00:06<00:00,  6.71it/s]100%|██████████| 45/45 [00:06<00:00,  8.24it/s]100%|██████████| 45/45 [00:06<00:00,  6.54it/s]
5640 images processed, 6.90431022644043 seconds used

22.666282415390015
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           3.19  99.38
places365     70.44  82.62
LSUN          13.25  97.68
iSUN          58.26  86.67
dtd           46.72  89.51
AVG           38.37  91.17
74.73095607757568
