Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep10-lr0p01.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:40,  3.88it/s]  3%|▎         | 11/391 [00:00<00:10, 36.30it/s]  5%|▍         | 19/391 [00:00<00:07, 49.45it/s]  7%|▋         | 29/391 [00:00<00:05, 64.30it/s] 10%|▉         | 39/391 [00:00<00:04, 74.50it/s] 13%|█▎        | 49/391 [00:00<00:04, 80.24it/s] 15%|█▍        | 58/391 [00:00<00:04, 76.77it/s] 17%|█▋        | 68/391 [00:01<00:03, 80.99it/s] 20%|█▉        | 78/391 [00:01<00:03, 84.89it/s] 23%|██▎       | 88/391 [00:01<00:03, 87.87it/s] 25%|██▌       | 98/391 [00:01<00:03, 89.69it/s] 28%|██▊       | 108/391 [00:01<00:03, 90.62it/s] 30%|███       | 118/391 [00:01<00:03, 90.63it/s] 33%|███▎      | 128/391 [00:01<00:02, 90.96it/s] 35%|███▌      | 138/391 [00:01<00:02, 92.02it/s] 38%|███▊      | 148/391 [00:01<00:02, 92.94it/s] 40%|████      | 158/391 [00:01<00:02, 93.44it/s] 43%|████▎     | 168/391 [00:02<00:02, 90.63it/s] 46%|████▌     | 178/391 [00:02<00:02, 80.04it/s] 48%|████▊     | 187/391 [00:02<00:02, 76.48it/s] 50%|█████     | 197/391 [00:02<00:02, 81.09it/s] 53%|█████▎    | 207/391 [00:02<00:02, 84.87it/s] 55%|█████▌    | 217/391 [00:02<00:01, 87.67it/s] 58%|█████▊    | 227/391 [00:02<00:01, 89.80it/s] 61%|██████    | 237/391 [00:02<00:01, 91.21it/s] 63%|██████▎   | 247/391 [00:03<00:01, 92.33it/s] 66%|██████▌   | 257/391 [00:03<00:01, 92.96it/s] 68%|██████▊   | 267/391 [00:03<00:01, 93.17it/s] 71%|███████   | 277/391 [00:03<00:01, 92.13it/s] 73%|███████▎  | 287/391 [00:03<00:01, 86.23it/s] 76%|███████▌  | 297/391 [00:03<00:01, 88.06it/s] 78%|███████▊  | 306/391 [00:03<00:01, 81.15it/s] 81%|████████  | 316/391 [00:03<00:00, 84.50it/s] 83%|████████▎ | 326/391 [00:03<00:00, 87.27it/s] 86%|████████▌ | 336/391 [00:04<00:00, 89.37it/s] 88%|████████▊ | 346/391 [00:04<00:00, 90.68it/s] 91%|█████████ | 356/391 [00:04<00:00, 91.90it/s] 94%|█████████▎| 366/391 [00:04<00:00, 92.77it/s] 96%|█████████▌| 376/391 [00:04<00:00, 93.49it/s] 99%|█████████▊| 386/391 [00:04<00:00, 93.95it/s]100%|██████████| 391/391 [00:05<00:00, 76.23it/s]
50000 images processed, 5.262621879577637 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  4%|▍         | 3/79 [00:00<00:02, 29.83it/s] 15%|█▌        | 12/79 [00:00<00:01, 65.13it/s] 28%|██▊       | 22/79 [00:00<00:00, 78.29it/s] 41%|████      | 32/79 [00:00<00:00, 84.71it/s] 53%|█████▎    | 42/79 [00:00<00:00, 88.03it/s] 66%|██████▌   | 52/79 [00:00<00:00, 89.93it/s] 78%|███████▊  | 62/79 [00:00<00:00, 91.99it/s] 91%|█████████ | 72/79 [00:00<00:00, 92.75it/s]100%|██████████| 79/79 [00:00<00:00, 81.38it/s]
10000 images processed, 0.9961555004119873 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:25,  7.87it/s]  5%|▍         | 10/204 [00:00<00:03, 50.42it/s]  9%|▉         | 19/204 [00:00<00:02, 65.79it/s] 14%|█▍        | 29/204 [00:00<00:02, 76.26it/s] 19%|█▉        | 39/204 [00:00<00:02, 81.90it/s] 24%|██▍       | 49/204 [00:00<00:01, 85.17it/s] 29%|██▉       | 59/204 [00:00<00:01, 87.59it/s] 34%|███▍      | 69/204 [00:00<00:01, 89.20it/s] 39%|███▊      | 79/204 [00:00<00:01, 90.04it/s] 44%|████▎     | 89/204 [00:01<00:01, 90.82it/s] 49%|████▊     | 99/204 [00:01<00:01, 91.13it/s] 53%|█████▎    | 109/204 [00:01<00:01, 91.59it/s] 58%|█████▊    | 119/204 [00:01<00:00, 91.43it/s] 63%|██████▎   | 129/204 [00:01<00:00, 91.36it/s] 68%|██████▊   | 139/204 [00:01<00:00, 91.02it/s] 73%|███████▎  | 149/204 [00:01<00:00, 90.79it/s] 78%|███████▊  | 159/204 [00:01<00:00, 90.97it/s] 83%|████████▎ | 169/204 [00:01<00:00, 90.93it/s] 88%|████████▊ | 179/204 [00:02<00:00, 91.12it/s] 93%|█████████▎| 189/204 [00:02<00:00, 91.47it/s] 98%|█████████▊| 199/204 [00:02<00:00, 91.20it/s]100%|██████████| 204/204 [00:02<00:00, 84.09it/s]
26032 images processed, 2.4811818599700928 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:18,  4.22it/s]  6%|▋         | 5/79 [00:00<00:04, 15.34it/s] 11%|█▏        | 9/79 [00:00<00:03, 20.61it/s] 16%|█▋        | 13/79 [00:00<00:02, 23.60it/s] 22%|██▏       | 17/79 [00:00<00:02, 25.56it/s] 27%|██▋       | 21/79 [00:00<00:02, 26.74it/s] 32%|███▏      | 25/79 [00:01<00:01, 27.78it/s] 35%|███▌      | 28/79 [00:01<00:01, 27.84it/s] 39%|███▉      | 31/79 [00:01<00:01, 25.89it/s] 43%|████▎     | 34/79 [00:01<00:01, 24.34it/s] 48%|████▊     | 38/79 [00:01<00:01, 24.64it/s] 53%|█████▎    | 42/79 [00:01<00:01, 25.22it/s] 58%|█████▊    | 46/79 [00:01<00:01, 24.81it/s] 63%|██████▎   | 50/79 [00:02<00:01, 25.87it/s] 68%|██████▊   | 54/79 [00:02<00:00, 26.60it/s] 73%|███████▎  | 58/79 [00:02<00:00, 27.37it/s] 78%|███████▊  | 62/79 [00:02<00:00, 27.86it/s] 84%|████████▎ | 66/79 [00:02<00:00, 28.41it/s] 89%|████████▊ | 70/79 [00:02<00:00, 28.37it/s] 94%|█████████▎| 74/79 [00:02<00:00, 28.48it/s] 99%|█████████▊| 78/79 [00:03<00:00, 28.58it/s]100%|██████████| 79/79 [00:03<00:00, 25.64it/s]
10000 images processed, 3.1236531734466553 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:11,  6.83it/s] 13%|█▎        | 10/79 [00:00<00:01, 47.14it/s] 25%|██▌       | 20/79 [00:00<00:00, 66.33it/s] 38%|███▊      | 30/79 [00:00<00:00, 75.94it/s] 51%|█████     | 40/79 [00:00<00:00, 81.04it/s] 63%|██████▎   | 50/79 [00:00<00:00, 84.21it/s] 76%|███████▌  | 60/79 [00:00<00:00, 86.46it/s] 89%|████████▊ | 70/79 [00:00<00:00, 87.83it/s]100%|██████████| 79/79 [00:01<00:00, 76.54it/s]
10000 images processed, 1.0504159927368164 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:10,  6.76it/s] 16%|█▌        | 11/70 [00:00<00:01, 50.58it/s] 30%|███       | 21/70 [00:00<00:00, 67.77it/s] 44%|████▍     | 31/70 [00:00<00:00, 76.36it/s] 59%|█████▊    | 41/70 [00:00<00:00, 81.60it/s] 73%|███████▎  | 51/70 [00:00<00:00, 84.83it/s] 87%|████████▋ | 61/70 [00:00<00:00, 87.05it/s]100%|██████████| 70/70 [00:00<00:00, 83.12it/s]100%|██████████| 70/70 [00:00<00:00, 73.20it/s]
8925 images processed, 0.9776878356933594 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:24,  1.78it/s]  4%|▍         | 2/45 [00:00<00:13,  3.30it/s] 11%|█         | 5/45 [00:00<00:06,  6.49it/s] 13%|█▎        | 6/45 [00:01<00:06,  6.04it/s] 16%|█▌        | 7/45 [00:01<00:06,  6.08it/s] 22%|██▏       | 10/45 [00:01<00:04,  7.69it/s] 24%|██▍       | 11/45 [00:01<00:05,  6.74it/s] 31%|███       | 14/45 [00:02<00:04,  6.71it/s] 40%|████      | 18/45 [00:02<00:03,  7.61it/s] 42%|████▏     | 19/45 [00:02<00:03,  7.83it/s] 49%|████▉     | 22/45 [00:03<00:03,  7.50it/s] 51%|█████     | 23/45 [00:03<00:03,  6.78it/s] 58%|█████▊    | 26/45 [00:03<00:02,  7.91it/s] 60%|██████    | 27/45 [00:04<00:03,  6.00it/s] 67%|██████▋   | 30/45 [00:04<00:01,  8.16it/s] 69%|██████▉   | 31/45 [00:04<00:02,  6.12it/s] 76%|███████▌  | 34/45 [00:05<00:01,  7.33it/s] 78%|███████▊  | 35/45 [00:05<00:01,  6.21it/s] 87%|████████▋ | 39/45 [00:05<00:00,  6.95it/s] 93%|█████████▎| 42/45 [00:06<00:00,  7.72it/s] 96%|█████████▌| 43/45 [00:06<00:00,  6.24it/s]100%|██████████| 45/45 [00:06<00:00,  6.88it/s]
5640 images processed, 6.552159547805786 seconds used

21.711512327194214
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           5.74  98.99
places365     65.45  82.46
LSUN          46.29  93.52
iSUN          66.83  83.43
dtd           27.29  95.20
AVG           42.32  90.72
91.50489854812622
