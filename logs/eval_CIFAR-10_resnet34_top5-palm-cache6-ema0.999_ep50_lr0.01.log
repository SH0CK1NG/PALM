Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep50-lr0p01.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:01<12:22,  1.90s/it]  3%|▎         | 11/391 [00:02<00:51,  7.43it/s]  5%|▌         | 21/391 [00:02<00:23, 15.68it/s]  8%|▊         | 31/391 [00:02<00:14, 24.87it/s] 10%|█         | 40/391 [00:02<00:10, 33.54it/s] 13%|█▎        | 50/391 [00:02<00:07, 44.21it/s] 15%|█▌        | 60/391 [00:02<00:06, 54.14it/s] 18%|█▊        | 70/391 [00:02<00:05, 62.77it/s] 20%|██        | 80/391 [00:02<00:04, 69.39it/s] 23%|██▎       | 90/391 [00:02<00:03, 75.79it/s] 26%|██▌       | 100/391 [00:02<00:03, 80.37it/s] 28%|██▊       | 110/391 [00:03<00:03, 82.17it/s] 31%|███       | 120/391 [00:03<00:03, 85.09it/s] 33%|███▎      | 130/391 [00:03<00:03, 85.54it/s] 36%|███▌      | 139/391 [00:03<00:02, 86.23it/s] 38%|███▊      | 148/391 [00:03<00:02, 86.52it/s] 40%|████      | 158/391 [00:03<00:02, 89.31it/s] 43%|████▎     | 168/391 [00:03<00:02, 90.53it/s] 46%|████▌     | 178/391 [00:03<00:02, 91.51it/s] 48%|████▊     | 188/391 [00:03<00:02, 92.26it/s] 51%|█████     | 198/391 [00:04<00:02, 91.96it/s] 53%|█████▎    | 208/391 [00:04<00:01, 92.35it/s] 56%|█████▌    | 218/391 [00:04<00:01, 92.63it/s] 58%|█████▊    | 228/391 [00:04<00:01, 90.37it/s] 61%|██████    | 238/391 [00:04<00:01, 84.86it/s] 63%|██████▎   | 248/391 [00:04<00:01, 87.14it/s] 66%|██████▌   | 258/391 [00:04<00:01, 88.85it/s] 69%|██████▊   | 268/391 [00:04<00:01, 90.55it/s] 71%|███████   | 278/391 [00:04<00:01, 91.50it/s] 74%|███████▎  | 288/391 [00:05<00:01, 92.73it/s] 76%|███████▌  | 298/391 [00:05<00:00, 93.20it/s] 79%|███████▉  | 308/391 [00:05<00:00, 93.73it/s] 81%|████████▏ | 318/391 [00:05<00:00, 94.24it/s] 84%|████████▍ | 328/391 [00:05<00:00, 84.56it/s] 86%|████████▋ | 338/391 [00:05<00:00, 88.38it/s] 89%|████████▉ | 348/391 [00:05<00:00, 89.93it/s] 92%|█████████▏| 358/391 [00:05<00:00, 87.17it/s] 94%|█████████▍| 367/391 [00:05<00:00, 86.80it/s] 96%|█████████▌| 376/391 [00:06<00:00, 86.39it/s] 98%|█████████▊| 385/391 [00:06<00:00, 86.69it/s]100%|██████████| 391/391 [00:06<00:00, 62.05it/s]
50000 images processed, 6.399017333984375 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:08,  9.16it/s] 14%|█▍        | 11/79 [00:00<00:01, 58.40it/s] 25%|██▌       | 20/79 [00:00<00:00, 70.52it/s] 38%|███▊      | 30/79 [00:00<00:00, 78.55it/s] 51%|█████     | 40/79 [00:00<00:00, 84.05it/s] 63%|██████▎   | 50/79 [00:00<00:00, 86.78it/s] 75%|███████▍  | 59/79 [00:00<00:00, 87.06it/s] 87%|████████▋ | 69/79 [00:00<00:00, 88.90it/s]100%|██████████| 79/79 [00:01<00:00, 81.58it/s]100%|██████████| 79/79 [00:01<00:00, 74.85it/s]
10000 images processed, 1.089158535003662 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:34,  5.89it/s]  5%|▍         | 10/204 [00:00<00:04, 43.00it/s]  9%|▉         | 19/204 [00:00<00:03, 60.17it/s] 14%|█▎        | 28/204 [00:00<00:02, 69.75it/s] 19%|█▊        | 38/204 [00:00<00:02, 77.99it/s] 24%|██▎       | 48/204 [00:00<00:01, 83.03it/s] 28%|██▊       | 57/204 [00:00<00:01, 84.62it/s] 32%|███▏      | 66/204 [00:00<00:01, 85.18it/s] 37%|███▋      | 75/204 [00:01<00:01, 85.77it/s] 41%|████      | 84/204 [00:01<00:01, 86.61it/s] 46%|████▌     | 94/204 [00:01<00:01, 88.32it/s] 51%|█████     | 104/204 [00:01<00:01, 89.32it/s] 56%|█████▌    | 114/204 [00:01<00:00, 90.41it/s] 61%|██████    | 124/204 [00:01<00:00, 90.90it/s] 66%|██████▌   | 134/204 [00:01<00:00, 91.18it/s] 71%|███████   | 144/204 [00:01<00:00, 89.55it/s] 75%|███████▌  | 153/204 [00:01<00:00, 88.32it/s] 80%|███████▉  | 163/204 [00:01<00:00, 89.84it/s] 84%|████████▍ | 172/204 [00:02<00:00, 88.04it/s] 89%|████████▊ | 181/204 [00:02<00:00, 86.80it/s] 93%|█████████▎| 190/204 [00:02<00:00, 87.22it/s] 98%|█████████▊| 199/204 [00:02<00:00, 84.80it/s]100%|██████████| 204/204 [00:02<00:00, 74.09it/s]
26032 images processed, 2.806919813156128 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:23,  3.31it/s]  6%|▋         | 5/79 [00:00<00:05, 12.97it/s] 11%|█▏        | 9/79 [00:00<00:04, 17.33it/s] 16%|█▋        | 13/79 [00:00<00:03, 20.11it/s] 22%|██▏       | 17/79 [00:00<00:02, 21.28it/s] 27%|██▋       | 21/79 [00:01<00:02, 23.63it/s] 32%|███▏      | 25/79 [00:01<00:02, 24.74it/s] 37%|███▋      | 29/79 [00:01<00:01, 25.65it/s] 42%|████▏     | 33/79 [00:01<00:01, 26.23it/s] 47%|████▋     | 37/79 [00:01<00:01, 26.58it/s] 52%|█████▏    | 41/79 [00:01<00:01, 26.99it/s] 57%|█████▋    | 45/79 [00:01<00:01, 26.96it/s] 62%|██████▏   | 49/79 [00:02<00:01, 27.41it/s] 66%|██████▌   | 52/79 [00:02<00:00, 27.22it/s] 71%|███████   | 56/79 [00:02<00:00, 26.73it/s] 76%|███████▌  | 60/79 [00:02<00:00, 26.08it/s] 81%|████████  | 64/79 [00:02<00:00, 25.72it/s] 86%|████████▌ | 68/79 [00:02<00:00, 26.07it/s] 91%|█████████ | 72/79 [00:02<00:00, 26.36it/s] 96%|█████████▌| 76/79 [00:03<00:00, 26.10it/s]100%|██████████| 79/79 [00:03<00:00, 24.35it/s]
10000 images processed, 3.2803661823272705 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:14,  5.20it/s] 14%|█▍        | 11/79 [00:00<00:01, 44.03it/s] 27%|██▋       | 21/79 [00:00<00:00, 63.01it/s] 38%|███▊      | 30/79 [00:00<00:00, 70.68it/s] 51%|█████     | 40/79 [00:00<00:00, 77.79it/s] 62%|██████▏   | 49/79 [00:00<00:00, 80.85it/s] 73%|███████▎  | 58/79 [00:00<00:00, 83.09it/s] 85%|████████▍ | 67/79 [00:00<00:00, 84.49it/s] 97%|█████████▋| 77/79 [00:01<00:00, 86.90it/s]100%|██████████| 79/79 [00:01<00:00, 70.32it/s]
10000 images processed, 1.1490209102630615 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:11,  5.76it/s] 16%|█▌        | 11/70 [00:00<00:01, 46.13it/s] 30%|███       | 21/70 [00:00<00:00, 64.43it/s] 44%|████▍     | 31/70 [00:00<00:00, 74.18it/s] 59%|█████▊    | 41/70 [00:00<00:00, 80.34it/s] 73%|███████▎  | 51/70 [00:00<00:00, 84.11it/s] 86%|████████▌ | 60/70 [00:00<00:00, 56.44it/s]100%|██████████| 70/70 [00:01<00:00, 61.62it/s]100%|██████████| 70/70 [00:01<00:00, 59.40it/s]
8925 images processed, 1.2065365314483643 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:32,  1.33it/s]  4%|▍         | 2/45 [00:00<00:16,  2.66it/s] 11%|█         | 5/45 [00:01<00:07,  5.24it/s] 13%|█▎        | 6/45 [00:01<00:07,  5.05it/s] 20%|██        | 9/45 [00:01<00:04,  7.86it/s] 22%|██▏       | 10/45 [00:01<00:06,  5.74it/s] 31%|███       | 14/45 [00:02<00:05,  5.82it/s] 40%|████      | 18/45 [00:03<00:04,  6.70it/s] 47%|████▋     | 21/45 [00:03<00:03,  7.62it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.82it/s] 56%|█████▌    | 25/45 [00:03<00:02,  7.49it/s] 58%|█████▊    | 26/45 [00:04<00:02,  7.28it/s] 64%|██████▍   | 29/45 [00:04<00:02,  6.95it/s] 73%|███████▎  | 33/45 [00:05<00:02,  5.80it/s] 82%|████████▏ | 37/45 [00:05<00:01,  7.00it/s] 91%|█████████ | 41/45 [00:06<00:00,  7.55it/s] 93%|█████████▎| 42/45 [00:06<00:00,  7.50it/s]100%|██████████| 45/45 [00:06<00:00,  6.87it/s]
5640 images processed, 6.568892002105713 seconds used

23.94161820411682
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           3.63  99.35
places365     34.40  92.47
LSUN           2.64  99.27
iSUN          18.10  96.54
dtd            9.66  98.18
AVG           13.69  97.16
100.88079166412354
