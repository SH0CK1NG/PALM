Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep100-lr0p5.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:29,  4.36it/s]  3%|▎         | 12/391 [00:00<00:08, 43.57it/s]  6%|▌         | 23/391 [00:00<00:05, 66.38it/s]  8%|▊         | 32/391 [00:00<00:05, 71.16it/s] 10%|█         | 41/391 [00:00<00:05, 62.74it/s] 13%|█▎        | 49/391 [00:00<00:05, 58.93it/s] 14%|█▍        | 56/391 [00:01<00:05, 57.98it/s] 16%|█▌        | 63/391 [00:01<00:05, 55.18it/s] 18%|█▊        | 69/391 [00:01<00:05, 54.64it/s] 19%|█▉        | 75/391 [00:01<00:05, 53.46it/s] 21%|██        | 81/391 [00:01<00:05, 52.60it/s] 22%|██▏       | 87/391 [00:01<00:05, 52.97it/s] 24%|██▍       | 93/391 [00:01<00:05, 53.07it/s] 25%|██▌       | 99/391 [00:01<00:05, 50.92it/s] 27%|██▋       | 105/391 [00:01<00:05, 51.71it/s] 28%|██▊       | 111/391 [00:02<00:05, 50.93it/s] 30%|██▉       | 117/391 [00:02<00:05, 50.95it/s] 31%|███▏      | 123/391 [00:02<00:05, 51.20it/s] 33%|███▎      | 129/391 [00:02<00:05, 50.65it/s] 35%|███▍      | 135/391 [00:02<00:05, 50.98it/s] 36%|███▌      | 141/391 [00:02<00:04, 50.39it/s] 38%|███▊      | 147/391 [00:02<00:04, 51.27it/s] 39%|███▉      | 153/391 [00:02<00:04, 51.15it/s] 41%|████      | 159/391 [00:03<00:04, 50.30it/s] 42%|████▏     | 165/391 [00:03<00:04, 50.45it/s] 44%|████▎     | 171/391 [00:03<00:04, 51.00it/s] 45%|████▌     | 177/391 [00:03<00:04, 50.53it/s] 47%|████▋     | 183/391 [00:03<00:04, 51.25it/s] 48%|████▊     | 189/391 [00:03<00:04, 50.45it/s] 50%|████▉     | 195/391 [00:03<00:03, 50.16it/s] 51%|█████▏    | 201/391 [00:03<00:03, 51.36it/s] 53%|█████▎    | 207/391 [00:03<00:03, 50.20it/s] 54%|█████▍    | 213/391 [00:04<00:03, 50.80it/s] 56%|█████▌    | 219/391 [00:04<00:03, 51.31it/s] 58%|█████▊    | 225/391 [00:04<00:03, 50.45it/s] 59%|█████▉    | 231/391 [00:04<00:03, 51.50it/s] 61%|██████    | 237/391 [00:04<00:03, 50.93it/s] 62%|██████▏   | 243/391 [00:04<00:02, 51.27it/s] 64%|██████▎   | 249/391 [00:04<00:02, 52.44it/s] 65%|██████▌   | 255/391 [00:04<00:02, 51.49it/s] 67%|██████▋   | 261/391 [00:05<00:02, 51.92it/s] 68%|██████▊   | 267/391 [00:05<00:02, 52.58it/s] 70%|██████▉   | 273/391 [00:05<00:02, 51.55it/s] 71%|███████▏  | 279/391 [00:05<00:02, 51.44it/s] 73%|███████▎  | 285/391 [00:05<00:02, 51.41it/s] 74%|███████▍  | 291/391 [00:05<00:01, 50.79it/s] 76%|███████▌  | 297/391 [00:05<00:01, 51.48it/s] 77%|███████▋  | 303/391 [00:05<00:01, 50.96it/s] 79%|███████▉  | 309/391 [00:05<00:01, 51.60it/s] 81%|████████  | 315/391 [00:06<00:01, 52.39it/s] 82%|████████▏ | 321/391 [00:06<00:01, 51.34it/s] 84%|████████▎ | 327/391 [00:06<00:01, 51.82it/s] 85%|████████▌ | 333/391 [00:06<00:01, 52.60it/s] 87%|████████▋ | 339/391 [00:06<00:01, 51.57it/s] 88%|████████▊ | 345/391 [00:06<00:00, 51.68it/s] 90%|████████▉ | 351/391 [00:06<00:00, 52.28it/s] 91%|█████████▏| 357/391 [00:06<00:00, 51.23it/s] 93%|█████████▎| 363/391 [00:06<00:00, 51.79it/s] 94%|█████████▍| 369/391 [00:07<00:00, 52.06it/s] 96%|█████████▌| 375/391 [00:07<00:00, 52.10it/s] 97%|█████████▋| 381/391 [00:07<00:00, 52.68it/s] 99%|█████████▉| 387/391 [00:07<00:00, 50.69it/s]100%|██████████| 391/391 [00:07<00:00, 51.29it/s]
50000 images processed, 7.781509160995483 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:09,  8.08it/s]  9%|▉         | 7/79 [00:00<00:02, 33.68it/s] 15%|█▌        | 12/79 [00:00<00:01, 38.18it/s] 23%|██▎       | 18/79 [00:00<00:01, 42.99it/s] 30%|███       | 24/79 [00:00<00:01, 46.97it/s] 37%|███▋      | 29/79 [00:00<00:01, 47.70it/s] 44%|████▍     | 35/79 [00:00<00:00, 48.81it/s] 52%|█████▏    | 41/79 [00:00<00:00, 50.63it/s] 59%|█████▉    | 47/79 [00:01<00:00, 50.32it/s] 67%|██████▋   | 53/79 [00:01<00:00, 51.46it/s] 75%|███████▍  | 59/79 [00:01<00:00, 50.40it/s] 82%|████████▏ | 65/79 [00:01<00:00, 50.49it/s] 90%|████████▉ | 71/79 [00:01<00:00, 50.80it/s]100%|██████████| 79/79 [00:01<00:00, 53.62it/s]100%|██████████| 79/79 [00:01<00:00, 46.84it/s]
10000 images processed, 1.7186181545257568 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:43,  4.67it/s]  2%|▏         | 5/204 [00:00<00:10, 18.30it/s]  5%|▍         | 10/204 [00:00<00:06, 29.16it/s]  7%|▋         | 15/204 [00:00<00:05, 34.27it/s] 11%|█▏        | 23/204 [00:00<00:03, 48.08it/s] 14%|█▍        | 29/204 [00:00<00:03, 47.67it/s] 17%|█▋        | 35/204 [00:00<00:03, 45.59it/s] 20%|█▉        | 40/204 [00:01<00:03, 46.49it/s] 22%|██▏       | 45/204 [00:01<00:03, 44.89it/s] 25%|██▌       | 51/204 [00:01<00:03, 48.95it/s] 29%|██▉       | 60/204 [00:01<00:02, 59.50it/s] 33%|███▎      | 67/204 [00:01<00:02, 55.01it/s] 36%|███▌      | 73/204 [00:01<00:02, 52.36it/s] 39%|███▊      | 79/204 [00:01<00:02, 51.24it/s] 42%|████▏     | 85/204 [00:01<00:02, 49.03it/s] 46%|████▌     | 93/204 [00:01<00:02, 54.43it/s] 49%|████▊     | 99/204 [00:02<00:02, 52.18it/s] 51%|█████▏    | 105/204 [00:02<00:01, 50.51it/s] 54%|█████▍    | 111/204 [00:02<00:01, 49.12it/s] 57%|█████▋    | 116/204 [00:02<00:01, 47.77it/s] 61%|██████    | 124/204 [00:02<00:01, 54.16it/s] 64%|██████▎   | 130/204 [00:02<00:01, 51.90it/s] 67%|██████▋   | 136/204 [00:02<00:01, 49.85it/s] 70%|██████▉   | 142/204 [00:02<00:01, 49.90it/s] 73%|███████▎  | 148/204 [00:03<00:01, 47.65it/s] 75%|███████▌  | 154/204 [00:03<00:01, 48.38it/s] 78%|███████▊  | 159/204 [00:03<00:00, 48.22it/s] 80%|████████  | 164/204 [00:03<00:00, 47.47it/s] 83%|████████▎ | 169/204 [00:03<00:00, 47.66it/s] 85%|████████▌ | 174/204 [00:03<00:00, 45.83it/s] 89%|████████▊ | 181/204 [00:03<00:00, 52.25it/s] 92%|█████████▏| 187/204 [00:03<00:00, 50.27it/s] 95%|█████████▍| 193/204 [00:04<00:00, 47.81it/s] 97%|█████████▋| 198/204 [00:04<00:00, 47.12it/s]100%|██████████| 204/204 [00:04<00:00, 45.54it/s]100%|██████████| 204/204 [00:04<00:00, 46.67it/s]
26032 images processed, 4.4572529792785645 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:23,  3.26it/s]  6%|▋         | 5/79 [00:00<00:05, 12.90it/s] 11%|█▏        | 9/79 [00:00<00:04, 16.83it/s] 15%|█▌        | 12/79 [00:00<00:03, 19.67it/s] 19%|█▉        | 15/79 [00:00<00:03, 19.33it/s] 24%|██▍       | 19/79 [00:01<00:03, 19.64it/s] 29%|██▉       | 23/79 [00:01<00:02, 20.85it/s] 34%|███▍      | 27/79 [00:01<00:02, 21.39it/s] 39%|███▉      | 31/79 [00:01<00:02, 23.54it/s] 44%|████▍     | 35/79 [00:01<00:01, 23.26it/s] 49%|████▉     | 39/79 [00:01<00:01, 23.71it/s] 54%|█████▍    | 43/79 [00:02<00:01, 23.85it/s] 59%|█████▉    | 47/79 [00:02<00:01, 25.20it/s] 65%|██████▍   | 51/79 [00:02<00:01, 24.36it/s] 70%|██████▉   | 55/79 [00:02<00:00, 24.76it/s] 75%|███████▍  | 59/79 [00:02<00:00, 25.43it/s] 80%|███████▉  | 63/79 [00:02<00:00, 25.40it/s] 85%|████████▍ | 67/79 [00:03<00:00, 24.86it/s] 90%|████████▉ | 71/79 [00:03<00:00, 24.66it/s] 95%|█████████▍| 75/79 [00:03<00:00, 25.48it/s]100%|██████████| 79/79 [00:03<00:00, 22.95it/s]
10000 images processed, 3.480787992477417 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:15,  5.14it/s]  8%|▊         | 6/79 [00:00<00:03, 24.03it/s] 14%|█▍        | 11/79 [00:00<00:02, 32.63it/s] 22%|██▏       | 17/79 [00:00<00:01, 41.11it/s] 35%|███▌      | 28/79 [00:00<00:00, 62.84it/s] 44%|████▍     | 35/79 [00:00<00:00, 57.51it/s] 53%|█████▎    | 42/79 [00:00<00:00, 52.79it/s] 61%|██████    | 48/79 [00:01<00:00, 52.62it/s] 68%|██████▊   | 54/79 [00:01<00:00, 49.88it/s] 78%|███████▊  | 62/79 [00:01<00:00, 57.39it/s] 86%|████████▌ | 68/79 [00:01<00:00, 56.58it/s] 94%|█████████▎| 74/79 [00:01<00:00, 52.96it/s]100%|██████████| 79/79 [00:01<00:00, 47.64it/s]
10000 images processed, 1.6819076538085938 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:12,  5.66it/s]  9%|▊         | 6/70 [00:00<00:02, 24.24it/s] 16%|█▌        | 11/70 [00:00<00:01, 33.37it/s] 23%|██▎       | 16/70 [00:00<00:01, 37.84it/s] 30%|███       | 21/70 [00:00<00:01, 41.06it/s] 37%|███▋      | 26/70 [00:00<00:01, 42.13it/s] 47%|████▋     | 33/70 [00:00<00:00, 47.41it/s] 56%|█████▌    | 39/70 [00:00<00:00, 48.62it/s] 63%|██████▎   | 44/70 [00:01<00:00, 47.33it/s] 70%|███████   | 49/70 [00:01<00:00, 47.33it/s] 79%|███████▊  | 55/70 [00:01<00:00, 48.39it/s] 86%|████████▌ | 60/70 [00:01<00:00, 47.23it/s] 94%|█████████▍| 66/70 [00:01<00:00, 49.28it/s]100%|██████████| 70/70 [00:01<00:00, 41.86it/s]
8925 images processed, 1.6975955963134766 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:32,  1.34it/s]  7%|▋         | 3/45 [00:00<00:10,  4.20it/s] 11%|█         | 5/45 [00:01<00:08,  4.70it/s] 13%|█▎        | 6/45 [00:01<00:07,  5.11it/s] 20%|██        | 9/45 [00:01<00:05,  6.73it/s] 22%|██▏       | 10/45 [00:01<00:05,  6.00it/s] 29%|██▉       | 13/45 [00:02<00:04,  7.64it/s] 31%|███       | 14/45 [00:02<00:06,  4.90it/s] 40%|████      | 18/45 [00:03<00:04,  5.92it/s] 47%|████▋     | 21/45 [00:03<00:03,  7.28it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.05it/s] 56%|█████▌    | 25/45 [00:04<00:02,  7.71it/s] 58%|█████▊    | 26/45 [00:04<00:03,  6.06it/s] 64%|██████▍   | 29/45 [00:04<00:02,  7.81it/s] 67%|██████▋   | 30/45 [00:05<00:02,  5.71it/s] 73%|███████▎  | 33/45 [00:05<00:01,  6.40it/s] 76%|███████▌  | 34/45 [00:05<00:02,  5.06it/s] 84%|████████▍ | 38/45 [00:06<00:01,  6.76it/s] 91%|█████████ | 41/45 [00:06<00:00,  8.14it/s] 93%|█████████▎| 42/45 [00:07<00:00,  5.56it/s]100%|██████████| 45/45 [00:07<00:00,  6.69it/s]100%|██████████| 45/45 [00:07<00:00,  6.10it/s]
5640 images processed, 7.398059606552124 seconds used

29.657825469970703
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           8.10  98.46
places365     55.72  88.71
LSUN          17.63  97.13
iSUN          68.43  88.78
dtd           31.99  94.61
AVG           36.37  93.54
92.9845449924469
