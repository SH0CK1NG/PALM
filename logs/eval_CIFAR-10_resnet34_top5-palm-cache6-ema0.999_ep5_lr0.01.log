Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep5-lr0p01.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:01<11:46,  1.81s/it]  2%|▏         | 7/391 [00:01<01:18,  4.89it/s]  3%|▎         | 12/391 [00:02<00:41,  9.11it/s]  4%|▍         | 17/391 [00:02<00:27, 13.84it/s]  6%|▌         | 23/391 [00:02<00:18, 20.24it/s]  7%|▋         | 29/391 [00:02<00:13, 26.33it/s]  9%|▊         | 34/391 [00:02<00:11, 30.68it/s] 10%|█         | 40/391 [00:02<00:09, 35.99it/s] 12%|█▏        | 46/391 [00:02<00:08, 39.82it/s] 13%|█▎        | 52/391 [00:02<00:07, 43.33it/s] 15%|█▍        | 58/391 [00:02<00:07, 44.44it/s] 16%|█▋        | 64/391 [00:03<00:07, 45.37it/s] 18%|█▊        | 69/391 [00:03<00:06, 46.06it/s] 19%|█▉        | 74/391 [00:03<00:06, 46.94it/s] 20%|██        | 79/391 [00:03<00:06, 46.51it/s] 22%|██▏       | 85/391 [00:03<00:06, 47.95it/s] 23%|██▎       | 91/391 [00:03<00:06, 49.46it/s] 25%|██▍       | 97/391 [00:03<00:05, 50.58it/s] 26%|██▋       | 103/391 [00:03<00:05, 51.63it/s] 28%|██▊       | 109/391 [00:03<00:05, 50.97it/s] 29%|██▉       | 115/391 [00:04<00:05, 51.93it/s] 31%|███       | 121/391 [00:04<00:05, 50.77it/s] 32%|███▏      | 127/391 [00:04<00:05, 50.05it/s] 34%|███▍      | 133/391 [00:04<00:05, 50.10it/s] 36%|███▌      | 139/391 [00:04<00:05, 49.89it/s] 37%|███▋      | 144/391 [00:04<00:05, 49.24it/s] 38%|███▊      | 150/391 [00:04<00:04, 50.91it/s] 40%|███▉      | 156/391 [00:04<00:04, 51.05it/s] 41%|████▏     | 162/391 [00:04<00:04, 51.48it/s] 43%|████▎     | 168/391 [00:05<00:04, 50.18it/s] 45%|████▍     | 174/391 [00:05<00:04, 49.89it/s] 46%|████▌     | 179/391 [00:05<00:04, 48.81it/s] 47%|████▋     | 184/391 [00:05<00:04, 46.55it/s] 48%|████▊     | 189/391 [00:05<00:04, 47.17it/s] 50%|████▉     | 194/391 [00:05<00:04, 47.55it/s] 51%|█████     | 199/391 [00:05<00:04, 46.93it/s] 52%|█████▏    | 204/391 [00:05<00:03, 47.12it/s] 54%|█████▎    | 210/391 [00:05<00:03, 48.57it/s] 55%|█████▍    | 215/391 [00:06<00:03, 48.49it/s] 57%|█████▋    | 221/391 [00:06<00:03, 49.49it/s] 58%|█████▊    | 227/391 [00:06<00:03, 50.25it/s] 60%|█████▉    | 233/391 [00:06<00:03, 49.62it/s] 61%|██████    | 238/391 [00:06<00:03, 49.70it/s] 62%|██████▏   | 244/391 [00:06<00:02, 50.74it/s] 64%|██████▍   | 250/391 [00:06<00:02, 49.15it/s] 65%|██████▌   | 256/391 [00:06<00:02, 50.14it/s] 67%|██████▋   | 262/391 [00:07<00:02, 50.05it/s] 69%|██████▊   | 268/391 [00:07<00:02, 50.55it/s] 70%|███████   | 274/391 [00:07<00:02, 49.90it/s] 71%|███████▏  | 279/391 [00:07<00:02, 49.72it/s] 73%|███████▎  | 285/391 [00:07<00:02, 51.41it/s] 74%|███████▍  | 291/391 [00:07<00:01, 52.12it/s] 76%|███████▌  | 297/391 [00:07<00:01, 50.65it/s] 77%|███████▋  | 303/391 [00:07<00:01, 50.92it/s] 79%|███████▉  | 309/391 [00:07<00:01, 50.81it/s] 81%|████████  | 315/391 [00:08<00:01, 50.43it/s] 82%|████████▏ | 321/391 [00:08<00:01, 51.67it/s] 84%|████████▎ | 327/391 [00:08<00:01, 51.06it/s] 85%|████████▌ | 333/391 [00:08<00:01, 51.92it/s] 87%|████████▋ | 339/391 [00:08<00:01, 50.84it/s] 88%|████████▊ | 345/391 [00:08<00:00, 49.05it/s] 90%|████████▉ | 351/391 [00:08<00:00, 49.41it/s] 91%|█████████▏| 357/391 [00:08<00:00, 49.65it/s] 93%|█████████▎| 363/391 [00:09<00:00, 49.66it/s] 94%|█████████▍| 368/391 [00:09<00:00, 48.10it/s] 95%|█████████▌| 373/391 [00:09<00:00, 48.37it/s] 97%|█████████▋| 379/391 [00:09<00:00, 49.33it/s] 98%|█████████▊| 385/391 [00:09<00:00, 50.30it/s]100%|██████████| 391/391 [00:09<00:00, 47.21it/s]100%|██████████| 391/391 [00:09<00:00, 40.46it/s]
50000 images processed, 9.796555757522583 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:09,  8.18it/s]  8%|▊         | 6/79 [00:00<00:02, 30.20it/s] 15%|█▌        | 12/79 [00:00<00:01, 39.02it/s] 22%|██▏       | 17/79 [00:00<00:01, 42.03it/s] 29%|██▉       | 23/79 [00:00<00:01, 45.52it/s] 37%|███▋      | 29/79 [00:00<00:01, 48.60it/s] 43%|████▎     | 34/79 [00:00<00:00, 48.81it/s] 51%|█████     | 40/79 [00:00<00:00, 49.66it/s] 58%|█████▊    | 46/79 [00:01<00:00, 50.52it/s] 66%|██████▌   | 52/79 [00:01<00:00, 51.00it/s] 73%|███████▎  | 58/79 [00:01<00:00, 51.50it/s] 81%|████████  | 64/79 [00:01<00:00, 50.73it/s] 89%|████████▊ | 70/79 [00:01<00:00, 51.39it/s] 96%|█████████▌| 76/79 [00:01<00:00, 49.77it/s]100%|██████████| 79/79 [00:01<00:00, 39.99it/s]
10000 images processed, 2.01203989982605 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:32,  6.20it/s]  3%|▎         | 6/204 [00:00<00:07, 25.07it/s]  6%|▌         | 12/204 [00:00<00:05, 35.60it/s]  9%|▉         | 18/204 [00:00<00:04, 41.46it/s] 11%|█▏        | 23/204 [00:00<00:04, 42.38it/s] 14%|█▎        | 28/204 [00:00<00:03, 44.45it/s] 16%|█▌        | 33/204 [00:00<00:03, 45.43it/s] 19%|█▊        | 38/204 [00:00<00:03, 45.08it/s] 22%|██▏       | 44/204 [00:01<00:03, 47.87it/s] 24%|██▍       | 49/204 [00:01<00:03, 47.87it/s] 26%|██▋       | 54/204 [00:01<00:03, 47.25it/s] 29%|██▉       | 59/204 [00:01<00:03, 47.92it/s] 31%|███▏      | 64/204 [00:01<00:02, 47.22it/s] 34%|███▍      | 69/204 [00:01<00:02, 47.23it/s] 36%|███▋      | 74/204 [00:01<00:02, 47.89it/s] 39%|███▊      | 79/204 [00:01<00:02, 46.20it/s] 41%|████      | 84/204 [00:01<00:02, 46.27it/s] 44%|████▍     | 90/204 [00:02<00:02, 47.82it/s] 47%|████▋     | 95/204 [00:02<00:02, 46.03it/s] 49%|████▉     | 100/204 [00:02<00:02, 46.88it/s] 52%|█████▏    | 106/204 [00:02<00:02, 47.77it/s] 54%|█████▍    | 111/204 [00:02<00:01, 47.63it/s] 57%|█████▋    | 116/204 [00:02<00:01, 45.22it/s] 59%|█████▉    | 121/204 [00:02<00:01, 43.94it/s] 62%|██████▏   | 126/204 [00:02<00:01, 45.29it/s] 65%|██████▍   | 132/204 [00:02<00:01, 46.67it/s] 67%|██████▋   | 137/204 [00:03<00:01, 46.08it/s] 70%|██████▉   | 142/204 [00:03<00:01, 45.99it/s] 72%|███████▏  | 147/204 [00:03<00:01, 45.23it/s] 75%|███████▍  | 152/204 [00:03<00:01, 46.06it/s] 77%|███████▋  | 157/204 [00:03<00:01, 45.61it/s] 79%|███████▉  | 162/204 [00:03<00:00, 45.41it/s] 82%|████████▏ | 167/204 [00:03<00:00, 46.56it/s] 84%|████████▍ | 172/204 [00:03<00:00, 46.29it/s] 87%|████████▋ | 177/204 [00:03<00:00, 47.23it/s] 89%|████████▉ | 182/204 [00:04<00:00, 47.35it/s] 92%|█████████▏| 187/204 [00:04<00:00, 46.34it/s] 94%|█████████▍| 192/204 [00:04<00:00, 46.93it/s] 97%|█████████▋| 197/204 [00:04<00:00, 47.39it/s] 99%|█████████▉| 202/204 [00:04<00:00, 46.43it/s]100%|██████████| 204/204 [00:04<00:00, 44.57it/s]
26032 images processed, 4.628873348236084 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:26,  2.97it/s]  6%|▋         | 5/79 [00:00<00:06, 11.78it/s] 11%|█▏        | 9/79 [00:00<00:04, 17.40it/s] 16%|█▋        | 13/79 [00:00<00:03, 19.97it/s] 22%|██▏       | 17/79 [00:00<00:02, 21.43it/s] 27%|██▋       | 21/79 [00:01<00:02, 21.92it/s] 32%|███▏      | 25/79 [00:01<00:02, 22.82it/s] 37%|███▋      | 29/79 [00:01<00:02, 24.63it/s] 42%|████▏     | 33/79 [00:01<00:01, 24.11it/s] 47%|████▋     | 37/79 [00:01<00:01, 25.25it/s] 52%|█████▏    | 41/79 [00:01<00:01, 25.23it/s] 57%|█████▋    | 45/79 [00:02<00:01, 26.50it/s] 61%|██████    | 48/79 [00:02<00:01, 26.08it/s] 65%|██████▍   | 51/79 [00:02<00:01, 24.00it/s] 68%|██████▊   | 54/79 [00:02<00:01, 23.17it/s] 73%|███████▎  | 58/79 [00:02<00:00, 24.08it/s] 78%|███████▊  | 62/79 [00:02<00:00, 23.56it/s] 84%|████████▎ | 66/79 [00:02<00:00, 24.20it/s] 89%|████████▊ | 70/79 [00:03<00:00, 25.31it/s] 94%|█████████▎| 74/79 [00:03<00:00, 25.26it/s] 99%|█████████▊| 78/79 [00:03<00:00, 25.95it/s]100%|██████████| 79/79 [00:03<00:00, 22.70it/s]
10000 images processed, 3.517390489578247 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:16,  4.85it/s]  8%|▊         | 6/79 [00:00<00:03, 22.93it/s] 14%|█▍        | 11/79 [00:00<00:02, 31.45it/s] 22%|██▏       | 17/79 [00:00<00:01, 39.27it/s] 28%|██▊       | 22/79 [00:00<00:01, 42.11it/s] 34%|███▍      | 27/79 [00:00<00:01, 42.80it/s] 41%|████      | 32/79 [00:00<00:01, 44.12it/s] 47%|████▋     | 37/79 [00:00<00:00, 45.78it/s] 53%|█████▎    | 42/79 [00:01<00:00, 45.34it/s] 61%|██████    | 48/79 [00:01<00:00, 49.38it/s] 68%|██████▊   | 54/79 [00:01<00:00, 48.62it/s] 75%|███████▍  | 59/79 [00:01<00:00, 47.36it/s] 81%|████████  | 64/79 [00:01<00:00, 47.32it/s] 87%|████████▋ | 69/79 [00:01<00:00, 47.34it/s] 94%|█████████▎| 74/79 [00:01<00:00, 47.18it/s]100%|██████████| 79/79 [00:01<00:00, 41.65it/s]
10000 images processed, 1.9195051193237305 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:14,  4.92it/s]  9%|▊         | 6/70 [00:00<00:02, 22.91it/s] 16%|█▌        | 11/70 [00:00<00:01, 31.33it/s] 23%|██▎       | 16/70 [00:00<00:01, 37.00it/s] 30%|███       | 21/70 [00:00<00:01, 40.75it/s] 37%|███▋      | 26/70 [00:00<00:01, 42.33it/s] 44%|████▍     | 31/70 [00:00<00:00, 43.96it/s] 51%|█████▏    | 36/70 [00:00<00:00, 43.28it/s] 59%|█████▊    | 41/70 [00:01<00:00, 45.08it/s] 66%|██████▌   | 46/70 [00:01<00:00, 46.19it/s] 73%|███████▎  | 51/70 [00:01<00:00, 44.29it/s] 80%|████████  | 56/70 [00:01<00:00, 44.44it/s] 87%|████████▋ | 61/70 [00:01<00:00, 44.11it/s] 96%|█████████▌| 67/70 [00:01<00:00, 45.86it/s]100%|██████████| 70/70 [00:01<00:00, 39.32it/s]
8925 images processed, 1.8104417324066162 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:29,  1.47it/s]  4%|▍         | 2/45 [00:00<00:15,  2.83it/s] 11%|█         | 5/45 [00:01<00:07,  5.05it/s] 13%|█▎        | 6/45 [00:01<00:07,  5.21it/s] 20%|██        | 9/45 [00:01<00:05,  7.00it/s] 22%|██▏       | 10/45 [00:01<00:05,  5.95it/s] 29%|██▉       | 13/45 [00:02<00:03,  8.27it/s] 31%|███       | 14/45 [00:02<00:06,  4.98it/s] 40%|████      | 18/45 [00:03<00:04,  6.17it/s] 47%|████▋     | 21/45 [00:03<00:03,  7.61it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.11it/s] 56%|█████▌    | 25/45 [00:03<00:02,  8.12it/s] 60%|██████    | 27/45 [00:04<00:02,  6.94it/s] 64%|██████▍   | 29/45 [00:04<00:01,  8.08it/s] 69%|██████▉   | 31/45 [00:04<00:02,  6.58it/s] 73%|███████▎  | 33/45 [00:05<00:01,  6.54it/s] 76%|███████▌  | 34/45 [00:05<00:02,  5.02it/s] 84%|████████▍ | 38/45 [00:06<00:01,  6.94it/s] 91%|█████████ | 41/45 [00:06<00:00,  8.89it/s] 96%|█████████▌| 43/45 [00:06<00:00,  6.27it/s]100%|██████████| 45/45 [00:07<00:00,  6.59it/s]100%|██████████| 45/45 [00:07<00:00,  6.32it/s]
5640 images processed, 7.134565114974976 seconds used

32.24897837638855
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           3.03  99.24
places365     82.31  68.08
LSUN          38.15  91.34
iSUN          82.64  71.00
dtd           45.21  88.85
AVG           50.27  83.70
84.48115825653076
