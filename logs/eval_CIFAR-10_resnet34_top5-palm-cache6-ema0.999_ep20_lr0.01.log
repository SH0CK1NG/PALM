Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep20-lr0p01.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:11,  5.42it/s]  1%|▏         | 5/391 [00:00<00:19, 20.30it/s]  2%|▏         | 9/391 [00:00<00:14, 26.11it/s]  3%|▎         | 13/391 [00:00<00:12, 30.70it/s]  5%|▍         | 19/391 [00:00<00:09, 38.30it/s]  6%|▋         | 25/391 [00:00<00:08, 43.44it/s]  8%|▊         | 30/391 [00:00<00:08, 44.07it/s]  9%|▉         | 35/391 [00:00<00:08, 40.60it/s] 10%|█         | 40/391 [00:01<00:08, 39.50it/s] 12%|█▏        | 45/391 [00:01<00:08, 38.48it/s] 13%|█▎        | 49/391 [00:01<00:08, 38.29it/s] 14%|█▎        | 53/391 [00:01<00:09, 37.28it/s] 15%|█▍        | 58/391 [00:01<00:08, 40.63it/s] 16%|█▌        | 63/391 [00:01<00:07, 43.05it/s] 17%|█▋        | 68/391 [00:01<00:07, 43.98it/s] 19%|█▊        | 73/391 [00:01<00:07, 41.96it/s] 20%|█▉        | 78/391 [00:02<00:07, 40.18it/s] 21%|██        | 83/391 [00:02<00:07, 42.72it/s] 23%|██▎       | 89/391 [00:02<00:06, 46.44it/s] 24%|██▍       | 94/391 [00:02<00:06, 47.18it/s] 26%|██▌       | 100/391 [00:02<00:05, 48.74it/s] 27%|██▋       | 106/391 [00:02<00:05, 50.78it/s] 29%|██▊       | 112/391 [00:02<00:05, 50.25it/s] 30%|███       | 118/391 [00:02<00:05, 51.10it/s] 32%|███▏      | 124/391 [00:02<00:05, 52.40it/s] 33%|███▎      | 130/391 [00:03<00:05, 51.11it/s] 35%|███▍      | 136/391 [00:03<00:05, 45.00it/s] 36%|███▌      | 141/391 [00:03<00:05, 42.99it/s] 37%|███▋      | 146/391 [00:03<00:06, 40.14it/s] 39%|███▊      | 151/391 [00:03<00:06, 38.52it/s] 40%|███▉      | 155/391 [00:03<00:06, 37.92it/s] 41%|████      | 159/391 [00:03<00:06, 37.45it/s] 42%|████▏     | 163/391 [00:03<00:06, 36.52it/s] 43%|████▎     | 167/391 [00:04<00:06, 36.27it/s] 44%|████▎     | 171/391 [00:04<00:06, 35.65it/s] 45%|████▍     | 175/391 [00:04<00:05, 36.37it/s] 46%|████▌     | 179/391 [00:04<00:05, 35.72it/s] 47%|████▋     | 183/391 [00:04<00:05, 35.90it/s] 48%|████▊     | 187/391 [00:04<00:05, 35.36it/s] 49%|████▉     | 191/391 [00:04<00:05, 36.42it/s] 50%|████▉     | 195/391 [00:04<00:05, 35.73it/s] 51%|█████     | 199/391 [00:04<00:05, 35.26it/s] 52%|█████▏    | 203/391 [00:05<00:05, 35.37it/s] 53%|█████▎    | 207/391 [00:05<00:05, 36.40it/s] 54%|█████▍    | 211/391 [00:05<00:05, 35.70it/s] 55%|█████▍    | 215/391 [00:05<00:04, 35.25it/s] 56%|█████▌    | 219/391 [00:05<00:04, 35.38it/s] 58%|█████▊    | 225/391 [00:05<00:04, 40.09it/s] 59%|█████▉    | 230/391 [00:05<00:03, 42.61it/s] 60%|██████    | 236/391 [00:05<00:03, 45.34it/s] 62%|██████▏   | 242/391 [00:06<00:03, 47.63it/s] 63%|██████▎   | 247/391 [00:06<00:02, 48.11it/s] 65%|██████▍   | 253/391 [00:06<00:02, 48.91it/s] 66%|██████▌   | 259/391 [00:06<00:02, 50.86it/s] 68%|██████▊   | 265/391 [00:06<00:02, 50.36it/s] 69%|██████▉   | 271/391 [00:06<00:02, 50.97it/s] 71%|███████   | 277/391 [00:06<00:02, 51.74it/s] 72%|███████▏  | 283/391 [00:06<00:02, 51.74it/s] 74%|███████▍  | 289/391 [00:06<00:01, 52.26it/s] 75%|███████▌  | 295/391 [00:07<00:01, 51.32it/s] 77%|███████▋  | 301/391 [00:07<00:01, 51.05it/s] 79%|███████▊  | 307/391 [00:07<00:01, 51.52it/s] 80%|████████  | 313/391 [00:07<00:01, 50.83it/s] 82%|████████▏ | 319/391 [00:07<00:01, 51.13it/s] 83%|████████▎ | 325/391 [00:07<00:01, 51.96it/s] 85%|████████▍ | 331/391 [00:07<00:01, 51.15it/s] 86%|████████▌ | 337/391 [00:07<00:01, 51.72it/s] 88%|████████▊ | 343/391 [00:07<00:00, 52.42it/s] 89%|████████▉ | 349/391 [00:08<00:00, 52.29it/s] 91%|█████████ | 355/391 [00:08<00:00, 53.05it/s] 92%|█████████▏| 361/391 [00:08<00:00, 52.02it/s] 94%|█████████▍| 367/391 [00:08<00:00, 52.71it/s] 95%|█████████▌| 373/391 [00:08<00:00, 50.56it/s] 97%|█████████▋| 379/391 [00:08<00:00, 49.41it/s] 98%|█████████▊| 384/391 [00:08<00:00, 48.98it/s]100%|█████████▉| 390/391 [00:08<00:00, 50.45it/s]100%|██████████| 391/391 [00:09<00:00, 42.55it/s]
50000 images processed, 9.315189361572266 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  3%|▎         | 2/79 [00:00<00:03, 19.60it/s] 10%|█         | 8/79 [00:00<00:01, 40.40it/s] 18%|█▊        | 14/79 [00:00<00:01, 46.94it/s] 24%|██▍       | 19/79 [00:00<00:01, 47.76it/s] 32%|███▏      | 25/79 [00:00<00:01, 49.42it/s] 39%|███▉      | 31/79 [00:00<00:00, 51.53it/s] 47%|████▋     | 37/79 [00:00<00:00, 50.70it/s] 54%|█████▍    | 43/79 [00:00<00:00, 50.84it/s] 62%|██████▏   | 49/79 [00:01<00:00, 51.13it/s] 70%|██████▉   | 55/79 [00:01<00:00, 50.26it/s] 77%|███████▋  | 61/79 [00:01<00:00, 50.23it/s] 85%|████████▍ | 67/79 [00:01<00:00, 51.07it/s] 92%|█████████▏| 73/79 [00:01<00:00, 50.29it/s]100%|██████████| 79/79 [00:01<00:00, 48.18it/s]100%|██████████| 79/79 [00:01<00:00, 48.17it/s]
10000 images processed, 1.6659619808197021 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:29,  6.88it/s]  3%|▎         | 6/204 [00:00<00:07, 26.29it/s]  6%|▌         | 12/204 [00:00<00:05, 36.61it/s]  8%|▊         | 17/204 [00:00<00:04, 40.08it/s] 11%|█         | 22/204 [00:00<00:04, 42.39it/s] 13%|█▎        | 27/204 [00:00<00:04, 42.37it/s] 16%|█▌        | 32/204 [00:00<00:03, 44.11it/s] 18%|█▊        | 37/204 [00:00<00:03, 45.76it/s] 21%|██        | 42/204 [00:01<00:03, 45.29it/s] 23%|██▎       | 47/204 [00:01<00:03, 45.67it/s] 25%|██▌       | 52/204 [00:01<00:03, 46.84it/s] 28%|██▊       | 57/204 [00:01<00:03, 46.03it/s] 30%|███       | 62/204 [00:01<00:03, 46.36it/s] 33%|███▎      | 67/204 [00:01<00:02, 47.29it/s] 35%|███▌      | 72/204 [00:01<00:03, 42.47it/s] 38%|███▊      | 77/204 [00:01<00:03, 41.00it/s] 40%|████      | 82/204 [00:01<00:03, 40.09it/s] 43%|████▎     | 87/204 [00:02<00:02, 40.99it/s] 45%|████▌     | 92/204 [00:02<00:02, 41.38it/s] 48%|████▊     | 97/204 [00:02<00:02, 40.39it/s] 50%|█████     | 102/204 [00:02<00:02, 36.83it/s] 52%|█████▏    | 106/204 [00:02<00:02, 36.37it/s] 54%|█████▍    | 110/204 [00:02<00:02, 34.31it/s] 56%|█████▌    | 114/204 [00:02<00:02, 33.38it/s] 58%|█████▊    | 118/204 [00:03<00:02, 32.55it/s] 60%|█████▉    | 122/204 [00:03<00:02, 32.59it/s] 62%|██████▏   | 126/204 [00:03<00:02, 31.82it/s] 64%|██████▎   | 130/204 [00:03<00:02, 31.49it/s] 66%|██████▌   | 134/204 [00:03<00:02, 32.02it/s] 68%|██████▊   | 138/204 [00:03<00:02, 31.41it/s] 70%|██████▉   | 142/204 [00:03<00:01, 31.37it/s] 72%|███████▏  | 146/204 [00:03<00:01, 31.46it/s] 74%|███████▎  | 150/204 [00:04<00:01, 31.31it/s] 75%|███████▌  | 154/204 [00:04<00:01, 30.93it/s] 77%|███████▋  | 158/204 [00:04<00:01, 31.15it/s] 79%|███████▉  | 162/204 [00:04<00:01, 31.76it/s] 81%|████████▏ | 166/204 [00:04<00:01, 31.12it/s] 83%|████████▎ | 170/204 [00:04<00:01, 31.82it/s] 86%|████████▌ | 175/204 [00:04<00:00, 36.34it/s] 88%|████████▊ | 180/204 [00:04<00:00, 38.65it/s] 91%|█████████ | 185/204 [00:04<00:00, 40.29it/s] 93%|█████████▎| 190/204 [00:05<00:00, 40.59it/s] 96%|█████████▌| 195/204 [00:05<00:00, 41.51it/s] 98%|█████████▊| 200/204 [00:05<00:00, 43.06it/s]100%|██████████| 204/204 [00:05<00:00, 37.23it/s]
26032 images processed, 5.52430272102356 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:24,  3.21it/s]  6%|▋         | 5/79 [00:00<00:05, 13.40it/s] 11%|█▏        | 9/79 [00:00<00:03, 19.05it/s] 16%|█▋        | 13/79 [00:00<00:02, 22.37it/s] 22%|██▏       | 17/79 [00:00<00:02, 24.41it/s] 27%|██▋       | 21/79 [00:01<00:02, 25.65it/s] 32%|███▏      | 25/79 [00:01<00:02, 26.33it/s] 37%|███▋      | 29/79 [00:01<00:01, 27.28it/s] 41%|████      | 32/79 [00:01<00:01, 27.87it/s] 44%|████▍     | 35/79 [00:01<00:01, 26.39it/s] 48%|████▊     | 38/79 [00:01<00:01, 26.31it/s] 52%|█████▏    | 41/79 [00:01<00:01, 23.75it/s] 57%|█████▋    | 45/79 [00:01<00:01, 23.52it/s] 62%|██████▏   | 49/79 [00:02<00:01, 25.45it/s] 66%|██████▌   | 52/79 [00:02<00:01, 26.42it/s] 71%|███████   | 56/79 [00:02<00:00, 27.69it/s] 76%|███████▌  | 60/79 [00:02<00:00, 28.77it/s] 81%|████████  | 64/79 [00:02<00:00, 30.24it/s] 86%|████████▌ | 68/79 [00:02<00:00, 32.52it/s] 91%|█████████ | 72/79 [00:02<00:00, 30.29it/s] 96%|█████████▌| 76/79 [00:02<00:00, 28.63it/s]100%|██████████| 79/79 [00:03<00:00, 25.55it/s]
10000 images processed, 3.1189215183258057 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:11,  6.59it/s]  6%|▋         | 5/79 [00:00<00:03, 22.39it/s] 13%|█▎        | 10/79 [00:00<00:02, 32.63it/s] 19%|█▉        | 15/79 [00:00<00:01, 37.88it/s] 24%|██▍       | 19/79 [00:00<00:01, 36.19it/s] 29%|██▉       | 23/79 [00:00<00:01, 36.74it/s] 34%|███▍      | 27/79 [00:00<00:01, 37.68it/s] 39%|███▉      | 31/79 [00:00<00:01, 36.17it/s] 44%|████▍     | 35/79 [00:01<00:01, 34.06it/s] 49%|████▉     | 39/79 [00:01<00:01, 33.31it/s] 54%|█████▍    | 43/79 [00:01<00:01, 33.36it/s] 59%|█████▉    | 47/79 [00:01<00:00, 32.50it/s] 65%|██████▍   | 51/79 [00:01<00:00, 31.78it/s] 70%|██████▉   | 55/79 [00:01<00:00, 32.01it/s] 75%|███████▍  | 59/79 [00:01<00:00, 32.41it/s] 80%|███████▉  | 63/79 [00:01<00:00, 31.71it/s] 85%|████████▍ | 67/79 [00:02<00:00, 31.70it/s] 90%|████████▉ | 71/79 [00:02<00:00, 32.15it/s] 95%|█████████▍| 75/79 [00:02<00:00, 31.51it/s]100%|██████████| 79/79 [00:02<00:00, 32.88it/s]100%|██████████| 79/79 [00:02<00:00, 32.12it/s]
10000 images processed, 2.477839946746826 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:09,  7.03it/s]  7%|▋         | 5/70 [00:00<00:03, 20.64it/s] 13%|█▎        | 9/70 [00:00<00:02, 26.12it/s] 19%|█▊        | 13/70 [00:00<00:01, 29.70it/s] 26%|██▌       | 18/70 [00:00<00:01, 34.73it/s] 33%|███▎      | 23/70 [00:00<00:01, 38.70it/s] 40%|████      | 28/70 [00:00<00:00, 42.04it/s] 47%|████▋     | 33/70 [00:00<00:00, 42.77it/s] 54%|█████▍    | 38/70 [00:01<00:00, 41.76it/s] 61%|██████▏   | 43/70 [00:01<00:00, 43.48it/s] 69%|██████▊   | 48/70 [00:01<00:00, 40.10it/s] 76%|███████▌  | 53/70 [00:01<00:00, 42.60it/s] 83%|████████▎ | 58/70 [00:01<00:00, 40.65it/s] 90%|█████████ | 63/70 [00:01<00:00, 42.46it/s] 97%|█████████▋| 68/70 [00:01<00:00, 41.46it/s]100%|██████████| 70/70 [00:01<00:00, 37.32it/s]
8925 images processed, 1.8960726261138916 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:25,  1.76it/s]  4%|▍         | 2/45 [00:00<00:13,  3.21it/s] 11%|█         | 5/45 [00:01<00:06,  6.23it/s] 13%|█▎        | 6/45 [00:01<00:06,  6.32it/s] 20%|██        | 9/45 [00:01<00:04,  8.67it/s] 22%|██▏       | 10/45 [00:01<00:04,  7.36it/s] 29%|██▉       | 13/45 [00:01<00:03,  9.54it/s] 31%|███       | 14/45 [00:02<00:05,  6.02it/s] 40%|████      | 18/45 [00:02<00:03,  7.40it/s] 47%|████▋     | 21/45 [00:02<00:02,  8.71it/s] 49%|████▉     | 22/45 [00:03<00:03,  7.57it/s] 56%|█████▌    | 25/45 [00:03<00:02,  9.17it/s] 58%|█████▊    | 26/45 [00:03<00:02,  7.65it/s] 64%|██████▍   | 29/45 [00:03<00:01,  8.35it/s] 67%|██████▋   | 30/45 [00:04<00:02,  7.44it/s] 73%|███████▎  | 33/45 [00:04<00:01,  7.35it/s] 76%|███████▌  | 34/45 [00:04<00:01,  6.80it/s] 82%|████████▏ | 37/45 [00:04<00:00,  8.81it/s] 87%|████████▋ | 39/45 [00:05<00:00, 10.34it/s] 91%|█████████ | 41/45 [00:05<00:00,  8.09it/s] 96%|█████████▌| 43/45 [00:05<00:00,  7.61it/s]100%|██████████| 45/45 [00:05<00:00,  7.71it/s]
5640 images processed, 5.859318971633911 seconds used

31.047953128814697
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           4.33  99.28
places365     62.06  86.28
LSUN          27.37  96.00
iSUN          64.55  84.73
dtd           28.94  94.17
AVG           37.45  92.09
74.25312733650208
