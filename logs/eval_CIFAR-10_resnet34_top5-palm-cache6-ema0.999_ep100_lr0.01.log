Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep100-lr0p01.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:33,  4.18it/s]  3%|▎         | 11/391 [00:00<00:09, 39.01it/s]  5%|▌         | 20/391 [00:00<00:06, 55.85it/s]  7%|▋         | 28/391 [00:00<00:06, 54.48it/s]  9%|▉         | 35/391 [00:00<00:06, 53.06it/s] 10%|█         | 41/391 [00:00<00:06, 53.47it/s] 12%|█▏        | 47/391 [00:00<00:06, 52.30it/s] 14%|█▎        | 53/391 [00:01<00:06, 53.46it/s] 15%|█▌        | 59/391 [00:01<00:06, 53.83it/s] 17%|█▋        | 65/391 [00:01<00:06, 52.39it/s] 18%|█▊        | 71/391 [00:01<00:06, 51.96it/s] 20%|█▉        | 77/391 [00:01<00:05, 52.47it/s] 21%|██        | 83/391 [00:01<00:05, 51.50it/s] 23%|██▎       | 89/391 [00:01<00:05, 52.44it/s] 24%|██▍       | 95/391 [00:01<00:05, 52.98it/s] 26%|██▌       | 101/391 [00:02<00:05, 51.82it/s] 27%|██▋       | 107/391 [00:02<00:05, 51.90it/s] 29%|██▉       | 113/391 [00:02<00:05, 52.65it/s] 30%|███       | 119/391 [00:02<00:05, 51.59it/s] 32%|███▏      | 125/391 [00:02<00:05, 51.76it/s] 34%|███▎      | 131/391 [00:02<00:05, 50.72it/s] 35%|███▌      | 137/391 [00:02<00:04, 51.29it/s] 37%|███▋      | 143/391 [00:02<00:04, 51.39it/s] 38%|███▊      | 149/391 [00:02<00:04, 49.42it/s] 40%|███▉      | 155/391 [00:03<00:04, 50.20it/s] 41%|████      | 161/391 [00:03<00:04, 51.64it/s] 43%|████▎     | 167/391 [00:03<00:04, 50.61it/s] 44%|████▍     | 173/391 [00:03<00:04, 51.71it/s] 46%|████▌     | 179/391 [00:03<00:04, 51.08it/s] 47%|████▋     | 185/391 [00:03<00:04, 51.39it/s] 49%|████▉     | 191/391 [00:03<00:03, 52.58it/s] 50%|█████     | 197/391 [00:03<00:03, 51.51it/s] 52%|█████▏    | 203/391 [00:03<00:03, 52.20it/s] 53%|█████▎    | 209/391 [00:04<00:03, 52.78it/s] 55%|█████▍    | 215/391 [00:04<00:03, 50.86it/s] 57%|█████▋    | 221/391 [00:04<00:03, 50.62it/s] 58%|█████▊    | 227/391 [00:04<00:03, 52.05it/s] 60%|█████▉    | 233/391 [00:04<00:03, 51.24it/s] 61%|██████    | 239/391 [00:04<00:02, 51.77it/s] 63%|██████▎   | 245/391 [00:04<00:02, 51.94it/s] 64%|██████▍   | 251/391 [00:04<00:02, 51.34it/s] 66%|██████▌   | 257/391 [00:05<00:02, 52.27it/s] 67%|██████▋   | 263/391 [00:05<00:02, 50.74it/s] 69%|██████▉   | 269/391 [00:05<00:02, 51.43it/s] 70%|███████   | 275/391 [00:05<00:02, 51.45it/s] 72%|███████▏  | 281/391 [00:05<00:02, 50.74it/s] 73%|███████▎  | 287/391 [00:05<00:01, 52.39it/s] 75%|███████▍  | 293/391 [00:05<00:01, 53.06it/s] 76%|███████▋  | 299/391 [00:05<00:01, 50.78it/s] 78%|███████▊  | 305/391 [00:05<00:01, 51.62it/s] 80%|███████▉  | 311/391 [00:06<00:01, 50.75it/s] 81%|████████  | 317/391 [00:06<00:01, 51.96it/s] 83%|████████▎ | 323/391 [00:06<00:01, 52.83it/s] 84%|████████▍ | 329/391 [00:06<00:01, 51.69it/s] 86%|████████▌ | 335/391 [00:06<00:01, 51.80it/s] 87%|████████▋ | 341/391 [00:06<00:00, 52.56it/s] 89%|████████▊ | 347/391 [00:06<00:00, 51.01it/s] 90%|█████████ | 353/391 [00:06<00:00, 51.91it/s] 92%|█████████▏| 359/391 [00:07<00:00, 52.63it/s] 93%|█████████▎| 365/391 [00:07<00:00, 51.58it/s] 95%|█████████▍| 371/391 [00:07<00:00, 52.29it/s] 96%|█████████▋| 377/391 [00:07<00:00, 52.64it/s] 98%|█████████▊| 383/391 [00:07<00:00, 51.39it/s] 99%|█████████▉| 389/391 [00:07<00:00, 52.12it/s]100%|██████████| 391/391 [00:07<00:00, 50.93it/s]
50000 images processed, 7.810339689254761 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:08,  8.82it/s]  9%|▉         | 7/79 [00:00<00:02, 34.66it/s] 15%|█▌        | 12/79 [00:00<00:01, 40.64it/s] 23%|██▎       | 18/79 [00:00<00:01, 44.80it/s] 30%|███       | 24/79 [00:00<00:01, 47.96it/s] 37%|███▋      | 29/79 [00:00<00:01, 47.84it/s] 44%|████▍     | 35/79 [00:00<00:00, 49.81it/s] 51%|█████     | 40/79 [00:00<00:00, 49.46it/s] 57%|█████▋    | 45/79 [00:00<00:00, 49.23it/s] 63%|██████▎   | 50/79 [00:01<00:00, 49.44it/s] 71%|███████   | 56/79 [00:01<00:00, 50.94it/s] 78%|███████▊  | 62/79 [00:01<00:00, 51.43it/s] 86%|████████▌ | 68/79 [00:01<00:00, 51.86it/s] 94%|█████████▎| 74/79 [00:01<00:00, 51.05it/s]100%|██████████| 79/79 [00:01<00:00, 46.59it/s]
10000 images processed, 1.7268128395080566 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:40,  4.95it/s]  3%|▎         | 6/204 [00:00<00:09, 21.78it/s]  6%|▌         | 12/204 [00:00<00:05, 34.83it/s]  8%|▊         | 17/204 [00:00<00:04, 39.50it/s] 11%|█         | 22/204 [00:00<00:04, 41.10it/s] 14%|█▎        | 28/204 [00:00<00:04, 43.94it/s] 17%|█▋        | 34/204 [00:00<00:03, 46.25it/s] 19%|█▉        | 39/204 [00:00<00:03, 45.68it/s] 22%|██▏       | 45/204 [00:01<00:03, 47.68it/s] 25%|██▍       | 50/204 [00:01<00:03, 47.96it/s] 27%|██▋       | 55/204 [00:01<00:03, 47.46it/s] 29%|██▉       | 60/204 [00:01<00:02, 48.06it/s] 32%|███▏      | 65/204 [00:01<00:02, 47.29it/s] 34%|███▍      | 70/204 [00:01<00:02, 47.92it/s] 37%|███▋      | 75/204 [00:01<00:02, 47.87it/s] 39%|███▉      | 80/204 [00:01<00:02, 46.70it/s] 42%|████▏     | 85/204 [00:01<00:02, 46.30it/s] 45%|████▍     | 91/204 [00:02<00:02, 47.52it/s] 47%|████▋     | 96/204 [00:02<00:02, 46.04it/s] 50%|████▉     | 101/204 [00:02<00:02, 46.44it/s] 52%|█████▏    | 106/204 [00:02<00:02, 44.87it/s] 54%|█████▍    | 111/204 [00:02<00:02, 45.92it/s] 57%|█████▋    | 116/204 [00:02<00:01, 46.29it/s] 59%|█████▉    | 121/204 [00:02<00:01, 44.65it/s] 62%|██████▏   | 126/204 [00:02<00:01, 44.95it/s] 64%|██████▍   | 131/204 [00:02<00:01, 45.74it/s] 67%|██████▋   | 136/204 [00:03<00:01, 44.30it/s] 69%|██████▉   | 141/204 [00:03<00:01, 42.90it/s] 72%|███████▏  | 146/204 [00:03<00:01, 43.07it/s] 74%|███████▍  | 151/204 [00:03<00:01, 44.00it/s] 76%|███████▋  | 156/204 [00:03<00:01, 45.59it/s] 79%|███████▉  | 161/204 [00:03<00:00, 45.84it/s] 81%|████████▏ | 166/204 [00:03<00:00, 46.79it/s] 84%|████████▍ | 171/204 [00:03<00:00, 45.93it/s] 86%|████████▋ | 176/204 [00:03<00:00, 46.42it/s] 89%|████████▉ | 182/204 [00:04<00:00, 47.33it/s] 92%|█████████▏| 187/204 [00:04<00:00, 45.65it/s] 94%|█████████▍| 192/204 [00:04<00:00, 44.81it/s] 97%|█████████▋| 197/204 [00:04<00:00, 45.79it/s] 99%|█████████▉| 202/204 [00:04<00:00, 46.54it/s]100%|██████████| 204/204 [00:04<00:00, 43.82it/s]
26032 images processed, 4.718691349029541 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:24,  3.13it/s]  6%|▋         | 5/79 [00:00<00:05, 12.71it/s] 11%|█▏        | 9/79 [00:00<00:03, 17.54it/s] 15%|█▌        | 12/79 [00:00<00:03, 20.18it/s] 19%|█▉        | 15/79 [00:00<00:03, 19.87it/s] 24%|██▍       | 19/79 [00:01<00:02, 20.34it/s] 29%|██▉       | 23/79 [00:01<00:02, 20.28it/s] 34%|███▍      | 27/79 [00:01<00:02, 20.34it/s] 39%|███▉      | 31/79 [00:01<00:02, 20.72it/s] 44%|████▍     | 35/79 [00:01<00:02, 20.11it/s] 49%|████▉     | 39/79 [00:02<00:02, 19.96it/s] 54%|█████▍    | 43/79 [00:02<00:01, 20.68it/s] 59%|█████▉    | 47/79 [00:02<00:01, 20.34it/s] 65%|██████▍   | 51/79 [00:02<00:01, 20.24it/s] 70%|██████▉   | 55/79 [00:02<00:01, 20.38it/s] 75%|███████▍  | 59/79 [00:03<00:00, 20.30it/s] 80%|███████▉  | 63/79 [00:03<00:00, 20.55it/s] 85%|████████▍ | 67/79 [00:03<00:00, 20.29it/s] 90%|████████▉ | 71/79 [00:03<00:00, 21.09it/s] 95%|█████████▍| 75/79 [00:03<00:00, 22.77it/s]100%|██████████| 79/79 [00:03<00:00, 20.38it/s]
10000 images processed, 3.9141523838043213 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:16,  4.69it/s]  8%|▊         | 6/79 [00:00<00:03, 21.26it/s] 14%|█▍        | 11/79 [00:00<00:02, 30.06it/s] 20%|██        | 16/79 [00:00<00:01, 36.16it/s] 27%|██▋       | 21/79 [00:00<00:01, 39.36it/s] 39%|███▉      | 31/79 [00:00<00:00, 57.54it/s] 52%|█████▏    | 41/79 [00:00<00:00, 70.13it/s] 62%|██████▏   | 49/79 [00:00<00:00, 65.07it/s] 71%|███████   | 56/79 [00:01<00:00, 57.21it/s] 80%|███████▉  | 63/79 [00:01<00:00, 54.07it/s] 87%|████████▋ | 69/79 [00:01<00:00, 51.09it/s]100%|██████████| 79/79 [00:01<00:00, 62.91it/s]100%|██████████| 79/79 [00:01<00:00, 49.40it/s]
10000 images processed, 1.6224613189697266 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:14,  4.86it/s]  9%|▊         | 6/70 [00:00<00:02, 21.95it/s] 19%|█▊        | 13/70 [00:00<00:01, 37.76it/s] 31%|███▏      | 22/70 [00:00<00:00, 54.26it/s] 41%|████▏     | 29/70 [00:00<00:00, 51.05it/s] 50%|█████     | 35/70 [00:00<00:00, 49.62it/s] 59%|█████▊    | 41/70 [00:00<00:00, 48.78it/s] 67%|██████▋   | 47/70 [00:01<00:00, 47.37it/s] 76%|███████▌  | 53/70 [00:01<00:00, 48.15it/s] 83%|████████▎ | 58/70 [00:01<00:00, 47.98it/s] 90%|█████████ | 63/70 [00:01<00:00, 48.04it/s] 99%|█████████▊| 69/70 [00:01<00:00, 49.04it/s]100%|██████████| 70/70 [00:01<00:00, 43.34it/s]
8925 images processed, 1.6409869194030762 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:30,  1.43it/s]  4%|▍         | 2/45 [00:00<00:16,  2.60it/s] 11%|█         | 5/45 [00:01<00:06,  5.90it/s] 13%|█▎        | 6/45 [00:01<00:08,  4.81it/s] 22%|██▏       | 10/45 [00:01<00:05,  6.12it/s] 31%|███       | 14/45 [00:02<00:05,  5.72it/s] 40%|████      | 18/45 [00:03<00:04,  6.38it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.43it/s] 58%|█████▊    | 26/45 [00:04<00:02,  6.68it/s] 60%|██████    | 27/45 [00:04<00:02,  6.26it/s] 67%|██████▋   | 30/45 [00:04<00:02,  6.97it/s] 69%|██████▉   | 31/45 [00:05<00:02,  6.15it/s] 76%|███████▌  | 34/45 [00:05<00:01,  6.57it/s] 78%|███████▊  | 35/45 [00:05<00:01,  5.85it/s] 87%|████████▋ | 39/45 [00:06<00:00,  6.21it/s] 93%|█████████▎| 42/45 [00:06<00:00,  7.23it/s] 96%|█████████▌| 43/45 [00:07<00:00,  5.49it/s]100%|██████████| 45/45 [00:07<00:00,  6.08it/s]
5640 images processed, 7.424833059310913 seconds used

30.31561040878296
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           4.30  99.00
places365     39.86  92.67
LSUN           5.84  98.28
iSUN          37.70  94.54
dtd           12.54  97.72
AVG           20.05  96.44
100.00429677963257
