Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep5-lr0p5.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:33,  4.19it/s]  2%|▏         | 6/391 [00:00<00:18, 20.87it/s]  3%|▎         | 13/391 [00:00<00:10, 36.85it/s]  5%|▍         | 19/391 [00:00<00:08, 42.04it/s]  6%|▌         | 24/391 [00:00<00:08, 43.45it/s]  8%|▊         | 30/391 [00:00<00:07, 47.39it/s]  9%|▉         | 36/391 [00:00<00:07, 49.38it/s] 11%|█         | 42/391 [00:01<00:07, 48.76it/s] 12%|█▏        | 48/391 [00:01<00:06, 50.92it/s] 14%|█▍        | 54/391 [00:01<00:06, 51.73it/s] 15%|█▌        | 60/391 [00:01<00:06, 50.63it/s] 17%|█▋        | 66/391 [00:01<00:06, 50.68it/s] 18%|█▊        | 72/391 [00:01<00:06, 51.52it/s] 20%|█▉        | 78/391 [00:01<00:06, 50.42it/s] 21%|██▏       | 84/391 [00:01<00:05, 51.42it/s] 23%|██▎       | 90/391 [00:01<00:06, 50.00it/s] 25%|██▍       | 96/391 [00:02<00:05, 50.47it/s] 26%|██▌       | 102/391 [00:02<00:05, 51.18it/s] 28%|██▊       | 108/391 [00:02<00:05, 49.63it/s] 29%|██▉       | 113/391 [00:02<00:05, 49.38it/s] 30%|███       | 119/391 [00:02<00:05, 50.36it/s] 32%|███▏      | 125/391 [00:02<00:05, 50.08it/s] 34%|███▎      | 131/391 [00:02<00:05, 51.11it/s] 35%|███▌      | 137/391 [00:02<00:05, 49.61it/s] 36%|███▋      | 142/391 [00:03<00:05, 48.33it/s] 38%|███▊      | 147/391 [00:03<00:05, 48.73it/s] 39%|███▉      | 152/391 [00:03<00:04, 48.34it/s] 40%|████      | 157/391 [00:03<00:04, 48.27it/s] 42%|████▏     | 163/391 [00:03<00:04, 49.00it/s] 43%|████▎     | 168/391 [00:03<00:04, 48.83it/s] 44%|████▍     | 173/391 [00:03<00:04, 48.42it/s] 46%|████▌     | 179/391 [00:03<00:04, 49.14it/s] 47%|████▋     | 184/391 [00:03<00:04, 48.60it/s] 49%|████▊     | 190/391 [00:03<00:03, 50.27it/s] 50%|█████     | 196/391 [00:04<00:03, 50.23it/s] 52%|█████▏    | 202/391 [00:04<00:03, 49.96it/s] 53%|█████▎    | 208/391 [00:04<00:03, 51.57it/s] 55%|█████▍    | 214/391 [00:04<00:03, 50.04it/s] 56%|█████▋    | 220/391 [00:04<00:03, 50.13it/s] 58%|█████▊    | 226/391 [00:04<00:03, 47.55it/s] 59%|█████▉    | 231/391 [00:04<00:03, 48.01it/s] 60%|██████    | 236/391 [00:04<00:03, 47.88it/s] 62%|██████▏   | 241/391 [00:05<00:03, 47.55it/s] 63%|██████▎   | 247/391 [00:05<00:02, 49.66it/s] 65%|██████▍   | 253/391 [00:05<00:02, 49.54it/s] 66%|██████▌   | 258/391 [00:05<00:02, 47.53it/s] 68%|██████▊   | 264/391 [00:05<00:02, 48.99it/s] 69%|██████▉   | 270/391 [00:05<00:02, 50.06it/s] 71%|███████   | 276/391 [00:05<00:02, 50.22it/s] 72%|███████▏  | 282/391 [00:05<00:02, 50.03it/s] 74%|███████▎  | 288/391 [00:05<00:02, 49.21it/s] 75%|███████▌  | 294/391 [00:06<00:01, 50.84it/s] 77%|███████▋  | 300/391 [00:06<00:01, 51.74it/s] 78%|███████▊  | 306/391 [00:06<00:01, 50.98it/s] 80%|███████▉  | 312/391 [00:06<00:01, 51.09it/s] 81%|████████▏ | 318/391 [00:06<00:01, 51.24it/s] 83%|████████▎ | 324/391 [00:06<00:01, 50.35it/s] 84%|████████▍ | 330/391 [00:06<00:01, 51.63it/s] 86%|████████▌ | 336/391 [00:06<00:01, 51.43it/s] 87%|████████▋ | 342/391 [00:07<00:00, 51.26it/s] 89%|████████▉ | 348/391 [00:07<00:00, 51.37it/s] 91%|█████████ | 354/391 [00:07<00:00, 50.21it/s] 92%|█████████▏| 360/391 [00:07<00:00, 49.88it/s] 94%|█████████▎| 366/391 [00:07<00:00, 50.17it/s] 95%|█████████▌| 372/391 [00:07<00:00, 50.06it/s] 97%|█████████▋| 378/391 [00:07<00:00, 50.00it/s] 98%|█████████▊| 384/391 [00:07<00:00, 48.72it/s] 99%|█████████▉| 389/391 [00:07<00:00, 48.11it/s]100%|██████████| 391/391 [00:08<00:00, 48.48it/s]
50000 images processed, 8.194760084152222 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:08,  9.36it/s]  9%|▉         | 7/79 [00:00<00:02, 35.53it/s] 15%|█▌        | 12/79 [00:00<00:01, 41.36it/s] 22%|██▏       | 17/79 [00:00<00:01, 44.21it/s] 28%|██▊       | 22/79 [00:00<00:01, 46.18it/s] 35%|███▌      | 28/79 [00:00<00:01, 47.51it/s] 43%|████▎     | 34/79 [00:00<00:00, 48.92it/s] 51%|█████     | 40/79 [00:00<00:00, 49.50it/s] 57%|█████▋    | 45/79 [00:00<00:00, 48.27it/s] 63%|██████▎   | 50/79 [00:01<00:00, 48.39it/s] 71%|███████   | 56/79 [00:01<00:00, 49.89it/s] 77%|███████▋  | 61/79 [00:01<00:00, 49.72it/s] 84%|████████▎ | 66/79 [00:01<00:00, 49.71it/s] 91%|█████████ | 72/79 [00:01<00:00, 50.37it/s] 99%|█████████▊| 78/79 [00:01<00:00, 49.71it/s]100%|██████████| 79/79 [00:01<00:00, 45.64it/s]
10000 images processed, 1.7683563232421875 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:29,  6.89it/s]  3%|▎         | 6/204 [00:00<00:07, 27.73it/s]  5%|▌         | 11/204 [00:00<00:05, 33.77it/s]  8%|▊         | 16/204 [00:00<00:04, 37.80it/s] 10%|█         | 21/204 [00:00<00:04, 39.91it/s] 13%|█▎        | 26/204 [00:00<00:04, 41.38it/s] 15%|█▌        | 31/204 [00:00<00:03, 43.35it/s] 18%|█▊        | 36/204 [00:00<00:03, 44.06it/s] 21%|██        | 42/204 [00:01<00:03, 45.52it/s] 23%|██▎       | 47/204 [00:01<00:03, 45.59it/s] 25%|██▌       | 52/204 [00:01<00:03, 45.24it/s] 28%|██▊       | 57/204 [00:01<00:03, 44.73it/s] 30%|███       | 62/204 [00:01<00:03, 44.23it/s] 33%|███▎      | 67/204 [00:01<00:03, 44.56it/s] 35%|███▌      | 72/204 [00:01<00:02, 45.22it/s] 38%|███▊      | 77/204 [00:01<00:02, 44.17it/s] 40%|████      | 82/204 [00:01<00:02, 43.97it/s] 43%|████▎     | 87/204 [00:02<00:02, 44.50it/s] 45%|████▌     | 92/204 [00:02<00:02, 44.76it/s] 48%|████▊     | 97/204 [00:02<00:02, 45.07it/s] 50%|█████     | 102/204 [00:02<00:02, 44.06it/s] 52%|█████▏    | 107/204 [00:02<00:02, 44.66it/s] 55%|█████▍    | 112/204 [00:02<00:02, 45.36it/s] 57%|█████▋    | 117/204 [00:02<00:01, 45.03it/s] 60%|█████▉    | 122/204 [00:02<00:01, 45.83it/s] 62%|██████▏   | 127/204 [00:02<00:01, 45.20it/s] 65%|██████▍   | 132/204 [00:03<00:01, 45.43it/s] 67%|██████▋   | 137/204 [00:03<00:01, 46.12it/s] 70%|██████▉   | 142/204 [00:03<00:01, 45.57it/s] 72%|███████▏  | 147/204 [00:03<00:01, 45.71it/s] 75%|███████▍  | 152/204 [00:03<00:01, 46.57it/s] 77%|███████▋  | 157/204 [00:03<00:01, 45.35it/s] 79%|███████▉  | 162/204 [00:03<00:00, 46.19it/s] 82%|████████▏ | 167/204 [00:03<00:00, 46.34it/s] 84%|████████▍ | 172/204 [00:03<00:00, 45.30it/s] 87%|████████▋ | 177/204 [00:04<00:00, 44.31it/s] 91%|█████████ | 185/204 [00:04<00:00, 52.94it/s] 96%|█████████▌| 195/204 [00:04<00:00, 64.60it/s]100%|██████████| 204/204 [00:04<00:00, 70.29it/s]100%|██████████| 204/204 [00:04<00:00, 46.24it/s]
26032 images processed, 4.464803695678711 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:24,  3.19it/s]  6%|▋         | 5/79 [00:00<00:05, 12.54it/s] 11%|█▏        | 9/79 [00:00<00:04, 17.46it/s] 16%|█▋        | 13/79 [00:00<00:03, 21.18it/s] 22%|██▏       | 17/79 [00:00<00:02, 22.57it/s] 27%|██▋       | 21/79 [00:01<00:02, 23.31it/s] 32%|███▏      | 25/79 [00:01<00:02, 23.45it/s] 37%|███▋      | 29/79 [00:01<00:02, 23.78it/s] 42%|████▏     | 33/79 [00:01<00:01, 24.65it/s] 46%|████▌     | 36/79 [00:01<00:01, 22.98it/s] 49%|████▉     | 39/79 [00:01<00:01, 24.24it/s] 54%|█████▍    | 43/79 [00:01<00:01, 25.73it/s] 58%|█████▊    | 46/79 [00:02<00:01, 25.89it/s] 62%|██████▏   | 49/79 [00:02<00:01, 24.65it/s] 66%|██████▌   | 52/79 [00:02<00:01, 23.98it/s] 71%|███████   | 56/79 [00:02<00:00, 25.02it/s] 76%|███████▌  | 60/79 [00:02<00:00, 25.58it/s] 80%|███████▉  | 63/79 [00:02<00:00, 26.46it/s] 84%|████████▎ | 66/79 [00:02<00:00, 26.84it/s] 87%|████████▋ | 69/79 [00:02<00:00, 24.92it/s] 91%|█████████ | 72/79 [00:03<00:00, 24.14it/s] 95%|█████████▍| 75/79 [00:03<00:00, 24.91it/s] 99%|█████████▊| 78/79 [00:03<00:00, 25.77it/s]100%|██████████| 79/79 [00:03<00:00, 23.25it/s]
10000 images processed, 3.4342668056488037 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:11,  6.58it/s]  8%|▊         | 6/79 [00:00<00:02, 25.68it/s] 15%|█▌        | 12/79 [00:00<00:01, 38.86it/s] 25%|██▌       | 20/79 [00:00<00:01, 52.00it/s] 33%|███▎      | 26/79 [00:00<00:01, 48.93it/s] 41%|████      | 32/79 [00:00<00:00, 47.70it/s] 47%|████▋     | 37/79 [00:00<00:00, 47.32it/s] 53%|█████▎    | 42/79 [00:00<00:00, 46.42it/s] 59%|█████▉    | 47/79 [00:01<00:00, 46.79it/s] 66%|██████▌   | 52/79 [00:01<00:00, 46.61it/s] 72%|███████▏  | 57/79 [00:01<00:00, 45.54it/s] 78%|███████▊  | 62/79 [00:01<00:00, 46.46it/s] 85%|████████▍ | 67/79 [00:01<00:00, 45.15it/s] 94%|█████████▎| 74/79 [00:01<00:00, 51.33it/s]100%|██████████| 79/79 [00:01<00:00, 45.01it/s]
10000 images processed, 1.7783102989196777 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:11,  6.09it/s] 10%|█         | 7/70 [00:00<00:02, 28.62it/s] 19%|█▊        | 13/70 [00:00<00:01, 38.12it/s] 26%|██▌       | 18/70 [00:00<00:01, 40.42it/s] 33%|███▎      | 23/70 [00:00<00:01, 42.93it/s] 40%|████      | 28/70 [00:00<00:00, 44.74it/s] 47%|████▋     | 33/70 [00:00<00:00, 44.96it/s] 54%|█████▍    | 38/70 [00:00<00:00, 46.11it/s] 61%|██████▏   | 43/70 [00:01<00:00, 44.81it/s] 70%|███████   | 49/70 [00:01<00:00, 46.57it/s] 77%|███████▋  | 54/70 [00:01<00:00, 47.45it/s] 84%|████████▍ | 59/70 [00:01<00:00, 45.93it/s] 91%|█████████▏| 64/70 [00:01<00:00, 46.05it/s]100%|██████████| 70/70 [00:01<00:00, 45.02it/s]100%|██████████| 70/70 [00:01<00:00, 41.47it/s]
8925 images processed, 1.714660882949829 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:26,  1.65it/s]  4%|▍         | 2/45 [00:00<00:14,  2.93it/s] 11%|█         | 5/45 [00:01<00:07,  5.63it/s] 13%|█▎        | 6/45 [00:01<00:07,  5.15it/s] 20%|██        | 9/45 [00:01<00:04,  7.46it/s] 22%|██▏       | 10/45 [00:01<00:06,  5.73it/s] 29%|██▉       | 13/45 [00:02<00:03,  8.84it/s] 33%|███▎      | 15/45 [00:02<00:05,  5.59it/s] 40%|████      | 18/45 [00:03<00:04,  5.73it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.15it/s] 58%|█████▊    | 26/45 [00:04<00:02,  6.70it/s] 67%|██████▋   | 30/45 [00:04<00:02,  6.73it/s] 73%|███████▎  | 33/45 [00:05<00:01,  7.66it/s] 76%|███████▌  | 34/45 [00:05<00:01,  5.82it/s] 84%|████████▍ | 38/45 [00:06<00:00,  7.05it/s] 91%|█████████ | 41/45 [00:06<00:00,  9.08it/s] 96%|█████████▌| 43/45 [00:06<00:00,  6.49it/s]100%|██████████| 45/45 [00:07<00:00,  6.15it/s]100%|██████████| 45/45 [00:07<00:00,  6.28it/s]
5640 images processed, 7.183035612106323 seconds used

29.898823261260986
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           8.59  98.44
places365     35.82  92.72
LSUN           3.14  99.16
iSUN          31.23  94.63
dtd           17.11  96.56
AVG           19.18  96.30
76.37779879570007
