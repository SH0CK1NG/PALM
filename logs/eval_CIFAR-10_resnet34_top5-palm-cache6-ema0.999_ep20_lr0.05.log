Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep20-lr0p05.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:40,  3.87it/s]  3%|▎         | 10/391 [00:00<00:11, 33.64it/s]  5%|▌         | 20/391 [00:00<00:06, 53.63it/s]  8%|▊         | 30/391 [00:00<00:05, 64.99it/s] 10%|▉         | 39/391 [00:00<00:04, 70.60it/s] 12%|█▏        | 48/391 [00:00<00:04, 75.98it/s] 15%|█▍        | 57/391 [00:00<00:04, 76.26it/s] 17%|█▋        | 66/391 [00:01<00:04, 78.89it/s] 19%|█▉        | 76/391 [00:01<00:03, 82.60it/s] 22%|██▏       | 85/391 [00:01<00:03, 83.86it/s] 24%|██▍       | 94/391 [00:01<00:03, 85.42it/s] 27%|██▋       | 104/391 [00:01<00:03, 88.10it/s] 29%|██▉       | 113/391 [00:01<00:05, 53.89it/s] 31%|███▏      | 123/391 [00:01<00:04, 62.40it/s] 34%|███▍      | 133/391 [00:01<00:03, 69.74it/s] 37%|███▋      | 143/391 [00:02<00:03, 75.67it/s] 39%|███▉      | 152/391 [00:02<00:03, 78.92it/s] 41%|████      | 161/391 [00:02<00:02, 81.06it/s] 44%|████▎     | 171/391 [00:02<00:02, 76.83it/s] 46%|████▌     | 180/391 [00:02<00:02, 78.04it/s] 48%|████▊     | 189/391 [00:02<00:02, 80.54it/s] 51%|█████     | 198/391 [00:02<00:02, 77.37it/s] 53%|█████▎    | 207/391 [00:02<00:02, 78.89it/s] 55%|█████▌    | 217/391 [00:03<00:02, 82.04it/s] 58%|█████▊    | 226/391 [00:03<00:01, 82.59it/s] 60%|██████    | 236/391 [00:03<00:01, 86.04it/s] 63%|██████▎   | 245/391 [00:03<00:01, 84.97it/s] 65%|██████▍   | 254/391 [00:03<00:01, 81.83it/s] 67%|██████▋   | 263/391 [00:03<00:01, 83.47it/s] 70%|██████▉   | 272/391 [00:03<00:01, 82.69it/s] 72%|███████▏  | 282/391 [00:03<00:01, 84.88it/s] 74%|███████▍  | 291/391 [00:03<00:01, 85.65it/s] 77%|███████▋  | 300/391 [00:03<00:01, 86.37it/s] 79%|███████▉  | 309/391 [00:04<00:00, 83.40it/s] 81%|████████▏ | 318/391 [00:04<00:00, 80.70it/s] 84%|████████▎ | 327/391 [00:04<00:00, 81.48it/s] 86%|████████▌ | 336/391 [00:04<00:00, 83.06it/s] 88%|████████▊ | 346/391 [00:04<00:00, 86.45it/s] 91%|█████████ | 356/391 [00:04<00:00, 88.65it/s] 94%|█████████▍| 367/391 [00:04<00:00, 92.39it/s] 96%|█████████▋| 377/391 [00:04<00:00, 88.87it/s] 99%|█████████▊| 386/391 [00:04<00:00, 86.71it/s]100%|██████████| 391/391 [00:05<00:00, 76.75it/s]
50000 images processed, 5.224982976913452 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:08,  9.25it/s] 13%|█▎        | 10/79 [00:00<00:01, 55.03it/s] 25%|██▌       | 20/79 [00:00<00:00, 72.31it/s] 35%|███▌      | 28/79 [00:00<00:00, 74.32it/s] 46%|████▌     | 36/79 [00:00<00:00, 74.75it/s] 58%|█████▊    | 46/79 [00:00<00:00, 81.18it/s] 71%|███████   | 56/79 [00:00<00:00, 85.17it/s] 84%|████████▎ | 66/79 [00:00<00:00, 87.73it/s] 96%|█████████▌| 76/79 [00:00<00:00, 89.02it/s]100%|██████████| 79/79 [00:01<00:00, 44.42it/s]
10000 images processed, 1.8118574619293213 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:39,  5.14it/s]  4%|▍         | 9/204 [00:00<00:05, 36.27it/s]  9%|▉         | 18/204 [00:00<00:03, 55.75it/s] 13%|█▎        | 27/204 [00:00<00:02, 65.56it/s] 18%|█▊        | 36/204 [00:00<00:02, 72.63it/s] 23%|██▎       | 46/204 [00:00<00:02, 78.91it/s] 27%|██▋       | 56/204 [00:00<00:01, 83.51it/s] 32%|███▏      | 66/204 [00:00<00:01, 86.19it/s] 37%|███▋      | 76/204 [00:01<00:01, 88.67it/s] 42%|████▏     | 85/204 [00:01<00:01, 87.39it/s] 46%|████▌     | 94/204 [00:01<00:01, 87.78it/s] 50%|█████     | 103/204 [00:01<00:01, 84.49it/s] 55%|█████▌    | 113/204 [00:01<00:01, 87.93it/s] 60%|█████▉    | 122/204 [00:01<00:00, 87.64it/s] 65%|██████▌   | 133/204 [00:01<00:00, 92.93it/s] 70%|███████   | 143/204 [00:01<00:00, 94.69it/s] 75%|███████▌  | 153/204 [00:01<00:00, 92.05it/s] 80%|███████▉  | 163/204 [00:02<00:00, 91.39it/s] 85%|████████▍ | 173/204 [00:02<00:00, 89.81it/s] 90%|████████▉ | 183/204 [00:02<00:00, 89.34it/s] 95%|█████████▍| 193/204 [00:02<00:00, 89.54it/s] 99%|█████████▉| 202/204 [00:02<00:00, 78.10it/s]100%|██████████| 204/204 [00:02<00:00, 78.39it/s]
26032 images processed, 2.651038408279419 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:24,  3.17it/s]  6%|▋         | 5/79 [00:00<00:06, 12.32it/s] 11%|█▏        | 9/79 [00:00<00:04, 17.01it/s] 16%|█▋        | 13/79 [00:00<00:03, 19.57it/s] 22%|██▏       | 17/79 [00:00<00:02, 21.07it/s] 27%|██▋       | 21/79 [00:01<00:02, 22.23it/s] 32%|███▏      | 25/79 [00:01<00:02, 21.65it/s] 37%|███▋      | 29/79 [00:01<00:02, 22.99it/s] 42%|████▏     | 33/79 [00:01<00:01, 23.30it/s] 47%|████▋     | 37/79 [00:01<00:01, 24.35it/s] 52%|█████▏    | 41/79 [00:01<00:01, 25.19it/s] 57%|█████▋    | 45/79 [00:02<00:01, 24.28it/s] 62%|██████▏   | 49/79 [00:02<00:01, 24.33it/s] 67%|██████▋   | 53/79 [00:02<00:01, 22.67it/s] 72%|███████▏  | 57/79 [00:02<00:00, 22.49it/s] 77%|███████▋  | 61/79 [00:02<00:00, 22.23it/s] 82%|████████▏ | 65/79 [00:02<00:00, 23.56it/s] 87%|████████▋ | 69/79 [00:03<00:00, 23.94it/s] 92%|█████████▏| 73/79 [00:03<00:00, 24.14it/s] 97%|█████████▋| 77/79 [00:03<00:00, 24.36it/s]100%|██████████| 79/79 [00:03<00:00, 22.20it/s]
10000 images processed, 3.5924623012542725 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:15,  5.13it/s] 13%|█▎        | 10/79 [00:00<00:01, 40.60it/s] 24%|██▍       | 19/79 [00:00<00:01, 57.31it/s] 35%|███▌      | 28/79 [00:00<00:00, 66.31it/s] 47%|████▋     | 37/79 [00:00<00:00, 72.18it/s] 58%|█████▊    | 46/79 [00:00<00:00, 77.17it/s] 70%|██████▉   | 55/79 [00:00<00:00, 79.47it/s] 82%|████████▏ | 65/79 [00:00<00:00, 83.52it/s] 95%|█████████▍| 75/79 [00:01<00:00, 86.44it/s]100%|██████████| 79/79 [00:01<00:00, 70.20it/s]
10000 images processed, 1.150524377822876 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:11,  5.99it/s] 14%|█▍        | 10/70 [00:00<00:01, 43.34it/s] 29%|██▊       | 20/70 [00:00<00:00, 63.10it/s] 43%|████▎     | 30/70 [00:00<00:00, 72.98it/s] 56%|█████▌    | 39/70 [00:00<00:00, 78.01it/s] 70%|███████   | 49/70 [00:00<00:00, 83.00it/s] 84%|████████▍ | 59/70 [00:00<00:00, 85.49it/s] 99%|█████████▊| 69/70 [00:00<00:00, 87.71it/s]100%|██████████| 70/70 [00:01<00:00, 69.50it/s]
8925 images processed, 1.033045768737793 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:31,  1.40it/s]  9%|▉         | 4/45 [00:00<00:06,  6.13it/s] 13%|█▎        | 6/45 [00:01<00:08,  4.64it/s] 20%|██        | 9/45 [00:01<00:05,  6.17it/s] 24%|██▍       | 11/45 [00:01<00:05,  6.69it/s] 29%|██▉       | 13/45 [00:02<00:04,  7.43it/s] 31%|███       | 14/45 [00:02<00:06,  4.77it/s] 40%|████      | 18/45 [00:03<00:04,  5.91it/s] 47%|████▋     | 21/45 [00:03<00:03,  7.64it/s] 51%|█████     | 23/45 [00:03<00:03,  6.66it/s] 56%|█████▌    | 25/45 [00:03<00:02,  7.68it/s] 60%|██████    | 27/45 [00:04<00:02,  6.69it/s] 64%|██████▍   | 29/45 [00:04<00:02,  7.81it/s] 69%|██████▉   | 31/45 [00:04<00:02,  6.34it/s] 73%|███████▎  | 33/45 [00:05<00:01,  6.65it/s] 76%|███████▌  | 34/45 [00:05<00:02,  5.00it/s] 84%|████████▍ | 38/45 [00:06<00:00,  7.10it/s] 91%|█████████ | 41/45 [00:06<00:00,  9.20it/s] 96%|█████████▌| 43/45 [00:06<00:00,  6.35it/s]100%|██████████| 45/45 [00:06<00:00,  6.55it/s]
5640 images processed, 6.8901731967926025 seconds used

23.761359930038452
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           6.09  98.93
places365     34.14  92.48
LSUN           2.87  99.20
iSUN          25.38  95.74
dtd           11.58  97.84
AVG           16.01  96.84
63.12944173812866
