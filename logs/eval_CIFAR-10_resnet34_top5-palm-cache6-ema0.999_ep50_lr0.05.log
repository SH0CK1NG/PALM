Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep50-lr0p05.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:40,  3.88it/s]  2%|▏         | 8/391 [00:00<00:14, 26.92it/s]  4%|▎         | 14/391 [00:00<00:10, 36.52it/s]  5%|▍         | 19/391 [00:00<00:09, 40.57it/s]  6%|▋         | 25/391 [00:00<00:08, 43.89it/s]  8%|▊         | 31/391 [00:00<00:07, 46.20it/s]  9%|▉         | 36/391 [00:00<00:07, 47.20it/s] 11%|█         | 42/391 [00:01<00:07, 49.42it/s] 12%|█▏        | 48/391 [00:01<00:07, 48.94it/s] 14%|█▍        | 54/391 [00:01<00:06, 50.21it/s] 15%|█▌        | 60/391 [00:01<00:06, 50.95it/s] 17%|█▋        | 66/391 [00:01<00:06, 50.39it/s] 18%|█▊        | 72/391 [00:01<00:06, 50.81it/s] 20%|█▉        | 78/391 [00:01<00:06, 51.88it/s] 21%|██▏       | 84/391 [00:01<00:06, 51.08it/s] 23%|██▎       | 90/391 [00:01<00:05, 51.63it/s] 25%|██▍       | 96/391 [00:02<00:05, 52.20it/s] 26%|██▌       | 102/391 [00:02<00:05, 51.14it/s] 28%|██▊       | 108/391 [00:02<00:05, 50.71it/s] 29%|██▉       | 114/391 [00:02<00:05, 49.92it/s] 31%|███       | 120/391 [00:02<00:05, 51.44it/s] 32%|███▏      | 126/391 [00:02<00:05, 52.08it/s] 34%|███▍      | 132/391 [00:02<00:05, 51.19it/s] 35%|███▌      | 138/391 [00:02<00:04, 51.72it/s] 37%|███▋      | 144/391 [00:03<00:04, 52.49it/s] 38%|███▊      | 150/391 [00:03<00:04, 51.49it/s] 40%|███▉      | 156/391 [00:03<00:04, 51.36it/s] 41%|████▏     | 162/391 [00:03<00:04, 51.74it/s] 43%|████▎     | 168/391 [00:03<00:04, 51.58it/s] 45%|████▍     | 174/391 [00:03<00:04, 52.50it/s] 46%|████▌     | 180/391 [00:03<00:04, 51.66it/s] 48%|████▊     | 186/391 [00:03<00:03, 52.29it/s] 49%|████▉     | 192/391 [00:03<00:03, 51.05it/s] 51%|█████     | 198/391 [00:04<00:03, 50.24it/s] 52%|█████▏    | 204/391 [00:04<00:03, 51.26it/s] 54%|█████▎    | 210/391 [00:04<00:03, 52.18it/s] 55%|█████▌    | 216/391 [00:04<00:03, 51.32it/s] 57%|█████▋    | 222/391 [00:04<00:03, 52.17it/s] 58%|█████▊    | 228/391 [00:04<00:03, 52.05it/s] 60%|█████▉    | 234/391 [00:04<00:03, 51.29it/s] 61%|██████▏   | 240/391 [00:04<00:02, 50.83it/s] 63%|██████▎   | 246/391 [00:05<00:02, 49.06it/s] 64%|██████▍   | 251/391 [00:05<00:02, 48.97it/s] 66%|██████▌   | 257/391 [00:05<00:02, 50.40it/s] 67%|██████▋   | 263/391 [00:05<00:02, 50.03it/s] 69%|██████▉   | 269/391 [00:05<00:02, 51.01it/s] 70%|███████   | 275/391 [00:05<00:02, 51.77it/s] 72%|███████▏  | 281/391 [00:05<00:02, 50.71it/s] 73%|███████▎  | 287/391 [00:05<00:02, 51.95it/s] 75%|███████▍  | 293/391 [00:05<00:01, 50.74it/s] 76%|███████▋  | 299/391 [00:06<00:01, 51.21it/s] 78%|███████▊  | 305/391 [00:06<00:01, 51.51it/s] 80%|███████▉  | 311/391 [00:06<00:01, 50.82it/s] 81%|████████  | 317/391 [00:06<00:01, 51.72it/s] 83%|████████▎ | 323/391 [00:06<00:01, 52.26it/s] 84%|████████▍ | 329/391 [00:06<00:01, 51.34it/s] 86%|████████▌ | 335/391 [00:06<00:01, 51.74it/s] 87%|████████▋ | 341/391 [00:06<00:00, 52.45it/s] 89%|████████▊ | 347/391 [00:06<00:00, 51.51it/s] 90%|█████████ | 353/391 [00:07<00:00, 52.19it/s] 92%|█████████▏| 359/391 [00:07<00:00, 52.33it/s] 93%|█████████▎| 365/391 [00:07<00:00, 52.64it/s] 95%|█████████▍| 371/391 [00:07<00:00, 52.35it/s] 96%|█████████▋| 377/391 [00:07<00:00, 51.07it/s] 98%|█████████▊| 383/391 [00:07<00:00, 51.34it/s] 99%|█████████▉| 389/391 [00:07<00:00, 50.68it/s]100%|██████████| 391/391 [00:07<00:00, 49.53it/s]
50000 images processed, 8.023967027664185 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:08,  8.77it/s]  8%|▊         | 6/79 [00:00<00:02, 31.39it/s] 15%|█▌        | 12/79 [00:00<00:01, 41.05it/s] 23%|██▎       | 18/79 [00:00<00:01, 46.04it/s] 29%|██▉       | 23/79 [00:00<00:01, 46.81it/s] 37%|███▋      | 29/79 [00:00<00:01, 48.17it/s] 44%|████▍     | 35/79 [00:00<00:00, 50.13it/s] 52%|█████▏    | 41/79 [00:00<00:00, 50.84it/s] 59%|█████▉    | 47/79 [00:01<00:00, 50.74it/s] 67%|██████▋   | 53/79 [00:01<00:00, 49.67it/s] 73%|███████▎  | 58/79 [00:01<00:00, 49.35it/s] 81%|████████  | 64/79 [00:01<00:00, 51.13it/s] 89%|████████▊ | 70/79 [00:01<00:00, 50.56it/s] 96%|█████████▌| 76/79 [00:01<00:00, 50.69it/s]100%|██████████| 79/79 [00:01<00:00, 46.08it/s]
10000 images processed, 1.7517597675323486 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:30,  6.55it/s]  5%|▍         | 10/204 [00:00<00:04, 45.83it/s]  8%|▊         | 16/204 [00:00<00:03, 47.08it/s] 11%|█         | 22/204 [00:00<00:03, 45.92it/s] 13%|█▎        | 27/204 [00:00<00:03, 46.24it/s] 16%|█▌        | 32/204 [00:00<00:03, 47.29it/s] 18%|█▊        | 37/204 [00:00<00:03, 46.28it/s] 21%|██        | 42/204 [00:00<00:03, 46.60it/s] 23%|██▎       | 47/204 [00:01<00:03, 47.18it/s] 25%|██▌       | 52/204 [00:01<00:03, 46.31it/s] 28%|██▊       | 57/204 [00:01<00:03, 47.07it/s] 30%|███       | 62/204 [00:01<00:03, 46.61it/s] 33%|███▎      | 67/204 [00:01<00:02, 46.75it/s] 35%|███▌      | 72/204 [00:01<00:02, 47.59it/s] 38%|███▊      | 77/204 [00:01<00:02, 45.96it/s] 40%|████      | 82/204 [00:01<00:02, 46.93it/s] 43%|████▎     | 87/204 [00:01<00:02, 47.70it/s] 45%|████▌     | 92/204 [00:02<00:02, 46.65it/s] 48%|████▊     | 97/204 [00:02<00:02, 46.75it/s] 50%|█████     | 102/204 [00:02<00:02, 46.70it/s] 52%|█████▏    | 107/204 [00:02<00:02, 45.64it/s] 55%|█████▍    | 112/204 [00:02<00:01, 46.59it/s] 57%|█████▋    | 117/204 [00:02<00:01, 46.29it/s] 60%|█████▉    | 122/204 [00:02<00:01, 46.63it/s] 62%|██████▏   | 127/204 [00:02<00:01, 47.50it/s] 65%|██████▍   | 132/204 [00:02<00:01, 46.19it/s] 67%|██████▋   | 137/204 [00:02<00:01, 45.98it/s] 70%|██████▉   | 142/204 [00:03<00:01, 46.17it/s] 72%|███████▏  | 147/204 [00:03<00:01, 45.65it/s] 75%|███████▍  | 152/204 [00:03<00:01, 46.02it/s] 77%|███████▋  | 157/204 [00:03<00:01, 45.55it/s] 79%|███████▉  | 162/204 [00:03<00:00, 46.21it/s] 82%|████████▏ | 167/204 [00:03<00:00, 46.90it/s] 84%|████████▍ | 172/204 [00:03<00:00, 45.81it/s] 87%|████████▋ | 177/204 [00:03<00:00, 46.03it/s] 89%|████████▉ | 182/204 [00:03<00:00, 46.99it/s] 92%|█████████▏| 187/204 [00:04<00:00, 46.19it/s] 94%|█████████▍| 192/204 [00:04<00:00, 46.88it/s] 97%|█████████▋| 197/204 [00:04<00:00, 47.37it/s] 99%|█████████▉| 202/204 [00:04<00:00, 46.40it/s]100%|██████████| 204/204 [00:04<00:00, 45.24it/s]
26032 images processed, 4.560722351074219 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:22,  3.47it/s]  6%|▋         | 5/79 [00:00<00:05, 13.14it/s] 11%|█▏        | 9/79 [00:00<00:04, 17.47it/s] 16%|█▋        | 13/79 [00:00<00:03, 20.43it/s] 22%|██▏       | 17/79 [00:00<00:02, 21.69it/s] 27%|██▋       | 21/79 [00:01<00:02, 23.54it/s] 32%|███▏      | 25/79 [00:01<00:02, 23.95it/s] 35%|███▌      | 28/79 [00:01<00:02, 22.89it/s] 39%|███▉      | 31/79 [00:01<00:02, 22.11it/s] 43%|████▎     | 34/79 [00:01<00:02, 21.85it/s] 48%|████▊     | 38/79 [00:01<00:01, 22.07it/s] 53%|█████▎    | 42/79 [00:02<00:01, 22.06it/s] 58%|█████▊    | 46/79 [00:02<00:01, 22.96it/s] 63%|██████▎   | 50/79 [00:02<00:01, 23.62it/s] 68%|██████▊   | 54/79 [00:02<00:01, 23.71it/s] 73%|███████▎  | 58/79 [00:02<00:00, 23.73it/s] 78%|███████▊  | 62/79 [00:02<00:00, 23.78it/s] 84%|████████▎ | 66/79 [00:03<00:00, 23.73it/s] 89%|████████▊ | 70/79 [00:03<00:00, 23.64it/s] 94%|█████████▎| 74/79 [00:03<00:00, 24.14it/s] 99%|█████████▊| 78/79 [00:03<00:00, 23.87it/s]100%|██████████| 79/79 [00:03<00:00, 22.04it/s]
10000 images processed, 3.6483395099639893 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:12,  6.38it/s] 15%|█▌        | 12/79 [00:00<00:01, 54.25it/s] 24%|██▍       | 19/79 [00:00<00:01, 51.85it/s] 32%|███▏      | 25/79 [00:00<00:01, 48.86it/s] 39%|███▉      | 31/79 [00:00<00:00, 49.15it/s] 47%|████▋     | 37/79 [00:00<00:00, 46.75it/s] 54%|█████▍    | 43/79 [00:00<00:00, 50.08it/s] 62%|██████▏   | 49/79 [00:01<00:00, 49.05it/s] 70%|██████▉   | 55/79 [00:01<00:00, 47.83it/s] 76%|███████▌  | 60/79 [00:01<00:00, 48.08it/s] 82%|████████▏ | 65/79 [00:01<00:00, 47.37it/s] 89%|████████▊ | 70/79 [00:01<00:00, 47.62it/s] 95%|█████████▍| 75/79 [00:01<00:00, 47.95it/s]100%|██████████| 79/79 [00:01<00:00, 45.61it/s]
10000 images processed, 1.7584867477416992 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:12,  5.64it/s]  9%|▊         | 6/70 [00:00<00:02, 23.62it/s] 16%|█▌        | 11/70 [00:00<00:01, 32.60it/s] 23%|██▎       | 16/70 [00:00<00:01, 37.62it/s] 30%|███       | 21/70 [00:00<00:01, 39.70it/s] 37%|███▋      | 26/70 [00:00<00:01, 42.23it/s] 44%|████▍     | 31/70 [00:00<00:00, 43.33it/s] 51%|█████▏    | 36/70 [00:00<00:00, 45.00it/s] 59%|█████▊    | 41/70 [00:01<00:00, 45.80it/s] 66%|██████▌   | 46/70 [00:01<00:00, 45.07it/s] 76%|███████▌  | 53/70 [00:01<00:00, 48.87it/s] 84%|████████▍ | 59/70 [00:01<00:00, 48.97it/s] 91%|█████████▏| 64/70 [00:01<00:00, 47.08it/s] 99%|█████████▊| 69/70 [00:01<00:00, 47.13it/s]100%|██████████| 70/70 [00:01<00:00, 40.49it/s]
8925 images processed, 1.756361961364746 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:30,  1.45it/s]  4%|▍         | 2/45 [00:00<00:15,  2.74it/s] 11%|█         | 5/45 [00:01<00:07,  5.41it/s] 13%|█▎        | 6/45 [00:01<00:07,  4.94it/s] 20%|██        | 9/45 [00:01<00:04,  7.86it/s] 22%|██▏       | 10/45 [00:01<00:06,  5.71it/s] 31%|███       | 14/45 [00:02<00:05,  5.42it/s] 40%|████      | 18/45 [00:03<00:04,  6.07it/s] 49%|████▉     | 22/45 [00:03<00:03,  6.07it/s] 58%|█████▊    | 26/45 [00:04<00:03,  6.27it/s] 67%|██████▋   | 30/45 [00:05<00:02,  6.09it/s] 76%|███████▌  | 34/45 [00:06<00:01,  5.72it/s] 84%|████████▍ | 38/45 [00:06<00:01,  6.61it/s] 93%|█████████▎| 42/45 [00:07<00:00,  5.87it/s]100%|██████████| 45/45 [00:07<00:00,  6.09it/s]
5640 images processed, 7.409381628036499 seconds used

30.321338653564453
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           3.72  99.28
places365     34.34  92.90
LSUN           3.26  99.08
iSUN          27.17  95.56
dtd            9.02  98.34
AVG           15.50  97.03
81.36655521392822
