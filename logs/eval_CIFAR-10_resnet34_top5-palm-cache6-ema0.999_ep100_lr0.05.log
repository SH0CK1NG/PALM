Files already downloaded and verified
Files already downloaded and verified
ckpt loaded from checkpoints/CIFAR-10-resnet34-top5-palm-cache6-ema0.999-finetune-ep100-lr0p05.pt
resnet34-top5-palm-cache6-ema0.999: Number of model parameters: 21605312
Processing in-distribution CIFAR-10 images
  0%|          | 0/391 [00:00<?, ?it/s]  0%|          | 1/391 [00:00<01:30,  4.31it/s]  2%|▏         | 9/391 [00:00<00:11, 32.48it/s]  5%|▍         | 19/391 [00:00<00:06, 55.14it/s]  7%|▋         | 28/391 [00:00<00:05, 65.53it/s] 10%|▉         | 38/391 [00:00<00:04, 74.69it/s] 12%|█▏        | 48/391 [00:00<00:04, 82.13it/s] 15%|█▍        | 58/391 [00:00<00:03, 86.47it/s] 17%|█▋        | 68/391 [00:00<00:03, 88.93it/s] 20%|█▉        | 78/391 [00:01<00:03, 86.28it/s] 22%|██▏       | 87/391 [00:01<00:03, 86.39it/s] 25%|██▍       | 96/391 [00:01<00:03, 85.81it/s] 27%|██▋       | 105/391 [00:01<00:03, 85.92it/s] 29%|██▉       | 114/391 [00:01<00:03, 83.89it/s] 31%|███▏      | 123/391 [00:01<00:03, 83.86it/s] 34%|███▍      | 132/391 [00:01<00:03, 80.33it/s] 36%|███▌      | 141/391 [00:01<00:03, 82.88it/s] 38%|███▊      | 150/391 [00:01<00:02, 80.62it/s] 41%|████      | 160/391 [00:02<00:02, 83.01it/s] 43%|████▎     | 170/391 [00:02<00:02, 86.55it/s] 46%|████▌     | 179/391 [00:02<00:02, 87.10it/s] 48%|████▊     | 189/391 [00:02<00:02, 89.09it/s] 51%|█████     | 199/391 [00:02<00:02, 90.49it/s] 53%|█████▎    | 209/391 [00:02<00:01, 92.29it/s] 56%|█████▌    | 219/391 [00:02<00:01, 92.47it/s] 59%|█████▊    | 229/391 [00:02<00:01, 92.91it/s] 61%|██████    | 239/391 [00:02<00:01, 94.53it/s] 64%|██████▎   | 249/391 [00:03<00:01, 95.02it/s] 66%|██████▌   | 259/391 [00:03<00:01, 91.23it/s] 69%|██████▉   | 269/391 [00:03<00:01, 88.03it/s] 71%|███████   | 278/391 [00:03<00:01, 85.71it/s] 73%|███████▎  | 287/391 [00:03<00:01, 86.03it/s] 76%|███████▌  | 296/391 [00:03<00:01, 83.00it/s] 78%|███████▊  | 306/391 [00:03<00:00, 85.29it/s] 81%|████████  | 316/391 [00:03<00:00, 87.57it/s] 83%|████████▎ | 326/391 [00:03<00:00, 89.24it/s] 86%|████████▌ | 336/391 [00:04<00:00, 90.71it/s] 88%|████████▊ | 346/391 [00:04<00:00, 91.26it/s] 91%|█████████ | 356/391 [00:04<00:00, 91.89it/s] 94%|█████████▎| 366/391 [00:04<00:00, 92.13it/s] 96%|█████████▌| 376/391 [00:04<00:00, 92.44it/s] 99%|█████████▊| 386/391 [00:04<00:00, 92.03it/s]100%|██████████| 391/391 [00:04<00:00, 81.53it/s]
50000 images processed, 4.920632362365723 seconds used

Processing in-distribution CIFAR-10 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:08,  9.17it/s] 13%|█▎        | 10/79 [00:00<00:01, 53.53it/s] 23%|██▎       | 18/79 [00:00<00:01, 60.79it/s] 35%|███▌      | 28/79 [00:00<00:00, 73.33it/s] 48%|████▊     | 38/79 [00:00<00:00, 78.37it/s] 61%|██████    | 48/79 [00:00<00:00, 82.80it/s] 73%|███████▎  | 58/79 [00:00<00:00, 86.22it/s] 86%|████████▌ | 68/79 [00:00<00:00, 88.55it/s] 99%|█████████▊| 78/79 [00:00<00:00, 89.43it/s]100%|██████████| 79/79 [00:01<00:00, 74.13it/s]
10000 images processed, 1.0972323417663574 seconds used

Processing out-of-distribution SVHN images
  0%|          | 0/204 [00:00<?, ?it/s]  0%|          | 1/204 [00:00<00:32,  6.21it/s]  4%|▍         | 9/204 [00:00<00:04, 39.84it/s]  9%|▉         | 18/204 [00:00<00:03, 59.01it/s] 13%|█▎        | 26/204 [00:00<00:02, 66.01it/s] 18%|█▊        | 36/204 [00:00<00:02, 75.24it/s] 23%|██▎       | 46/204 [00:00<00:01, 83.06it/s] 27%|██▋       | 55/204 [00:00<00:01, 85.15it/s] 32%|███▏      | 65/204 [00:00<00:01, 88.27it/s] 37%|███▋      | 75/204 [00:00<00:01, 88.81it/s] 42%|████▏     | 85/204 [00:01<00:01, 89.47it/s] 47%|████▋     | 95/204 [00:01<00:01, 90.31it/s] 51%|█████▏    | 105/204 [00:01<00:01, 90.38it/s] 56%|█████▋    | 115/204 [00:01<00:00, 91.14it/s] 61%|██████▏   | 125/204 [00:01<00:00, 91.17it/s] 66%|██████▌   | 135/204 [00:01<00:00, 92.13it/s] 71%|███████   | 145/204 [00:01<00:00, 92.22it/s] 76%|███████▌  | 155/204 [00:01<00:00, 91.89it/s] 81%|████████  | 165/204 [00:01<00:00, 90.25it/s] 86%|████████▌ | 175/204 [00:02<00:00, 91.46it/s] 91%|█████████ | 185/204 [00:02<00:00, 89.18it/s] 96%|█████████▌| 195/204 [00:02<00:00, 90.72it/s]100%|██████████| 204/204 [00:02<00:00, 81.82it/s]
26032 images processed, 2.5519092082977295 seconds used

Processing out-of-distribution places365 images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:27,  2.82it/s]  6%|▋         | 5/79 [00:00<00:06, 10.77it/s] 11%|█▏        | 9/79 [00:00<00:04, 14.95it/s] 16%|█▋        | 13/79 [00:00<00:03, 18.05it/s] 22%|██▏       | 17/79 [00:01<00:03, 20.30it/s] 27%|██▋       | 21/79 [00:01<00:02, 21.87it/s] 32%|███▏      | 25/79 [00:01<00:02, 22.67it/s] 37%|███▋      | 29/79 [00:01<00:02, 23.16it/s] 42%|████▏     | 33/79 [00:01<00:01, 23.93it/s] 46%|████▌     | 36/79 [00:01<00:01, 24.06it/s] 51%|█████     | 40/79 [00:02<00:01, 22.89it/s] 56%|█████▌    | 44/79 [00:02<00:01, 22.51it/s] 61%|██████    | 48/79 [00:02<00:01, 21.85it/s] 66%|██████▌   | 52/79 [00:02<00:01, 21.55it/s] 71%|███████   | 56/79 [00:02<00:01, 21.62it/s] 76%|███████▌  | 60/79 [00:02<00:00, 21.47it/s] 81%|████████  | 64/79 [00:03<00:00, 21.57it/s] 86%|████████▌ | 68/79 [00:03<00:00, 21.60it/s] 91%|█████████ | 72/79 [00:03<00:00, 22.36it/s] 96%|█████████▌| 76/79 [00:03<00:00, 23.43it/s]100%|██████████| 79/79 [00:03<00:00, 21.32it/s]
10000 images processed, 3.7400095462799072 seconds used

Processing out-of-distribution LSUN images
  0%|          | 0/79 [00:00<?, ?it/s]  1%|▏         | 1/79 [00:00<00:14,  5.39it/s] 14%|█▍        | 11/79 [00:00<00:01, 45.65it/s] 27%|██▋       | 21/79 [00:00<00:00, 64.53it/s] 38%|███▊      | 30/79 [00:00<00:00, 72.00it/s] 49%|████▉     | 39/79 [00:00<00:00, 77.62it/s] 61%|██████    | 48/79 [00:00<00:00, 79.30it/s] 72%|███████▏  | 57/79 [00:00<00:00, 82.55it/s] 85%|████████▍ | 67/79 [00:00<00:00, 87.40it/s] 97%|█████████▋| 77/79 [00:01<00:00, 88.76it/s]100%|██████████| 79/79 [00:01<00:00, 72.07it/s]
10000 images processed, 1.1165096759796143 seconds used

Processing out-of-distribution iSUN images
  0%|          | 0/70 [00:00<?, ?it/s]  1%|▏         | 1/70 [00:00<00:14,  4.80it/s] 16%|█▌        | 11/70 [00:00<00:01, 42.46it/s] 29%|██▊       | 20/70 [00:00<00:00, 58.71it/s] 41%|████▏     | 29/70 [00:00<00:00, 68.96it/s] 56%|█████▌    | 39/70 [00:00<00:00, 76.94it/s] 69%|██████▊   | 48/70 [00:00<00:00, 79.00it/s] 83%|████████▎ | 58/70 [00:00<00:00, 83.40it/s] 97%|█████████▋| 68/70 [00:00<00:00, 86.83it/s]100%|██████████| 70/70 [00:01<00:00, 67.16it/s]
8925 images processed, 1.0664424896240234 seconds used

Processing out-of-distribution dtd images
  0%|          | 0/45 [00:00<?, ?it/s]  2%|▏         | 1/45 [00:00<00:28,  1.52it/s]  4%|▍         | 2/45 [00:00<00:16,  2.61it/s] 11%|█         | 5/45 [00:01<00:07,  5.54it/s] 13%|█▎        | 6/45 [00:01<00:07,  4.95it/s] 20%|██        | 9/45 [00:01<00:04,  7.47it/s] 22%|██▏       | 10/45 [00:02<00:06,  5.43it/s] 29%|██▉       | 13/45 [00:02<00:03,  8.47it/s] 33%|███▎      | 15/45 [00:02<00:05,  5.45it/s] 40%|████      | 18/45 [00:03<00:04,  5.58it/s] 47%|████▋     | 21/45 [00:03<00:03,  7.54it/s] 51%|█████     | 23/45 [00:03<00:03,  6.37it/s] 58%|█████▊    | 26/45 [00:04<00:03,  6.05it/s] 67%|██████▋   | 30/45 [00:05<00:02,  6.21it/s] 73%|███████▎  | 33/45 [00:05<00:01,  7.58it/s] 78%|███████▊  | 35/45 [00:05<00:01,  5.94it/s] 84%|████████▍ | 38/45 [00:06<00:01,  6.79it/s] 93%|█████████▎| 42/45 [00:06<00:00,  6.10it/s]100%|██████████| 45/45 [00:07<00:00,  7.26it/s]100%|██████████| 45/45 [00:07<00:00,  6.23it/s]
5640 images processed, 7.235998153686523 seconds used

23.354915857315063
Evaluating SVHN
Evaluating places365
Evaluating LSUN
Evaluating iSUN
Evaluating dtd
 OOD detection method: SSD+
              FPR    AUROC  AUIN  
SVHN           2.87  99.46
places365     33.48  93.30
LSUN           7.80  98.25
iSUN          17.61  96.79
dtd           11.81  97.41
AVG           14.71  97.04
105.14121699333191
